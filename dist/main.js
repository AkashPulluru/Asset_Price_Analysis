!function(){"use strict";var t={889:function(t,e){var n=function(t,e,r={}){this.data=void 0,this.columns=void 0,this.valueMaps=void 0,this.storedResults=void 0,this.lastUpdated=void 0,this.validScales=["nominal","ordinal","interval","metric"],this.zTable=void 0,this.factorials=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4,0x46e7261f127a0000],this.defaultOptions={epsilon:1e-5,excludeColumns:["ID","id"],incompleteBetaIterations:40,incompleteGammaIterations:80,maxBarnardsN:200,spougeConstant:40,suppressWarnings:!1,zTableIterations:25},this.init=function(t,e,n={}){for(var r in void 0===t&&this.errorMessage("No data was supplied."),this.defaultOptions){var i="object"==typeof n&&this.has(n,r)&&this.has(this.defaultOptions,r)?n[r]:this.defaultOptions[r];Object.defineProperty(this,r,{value:i,writable:!1})}return void 0!==t&&this.updateData(t,e),this},this.updateData=function(t,e){this.addData(t),"object"==typeof e&&this.assignValueMap(e),t.constructor===Array&&"object"!=typeof e&&(this.errorMessage("It is strongly encouraged to initalise statistics.js with a variable table that defines the scale of measurement of each variable (e.g. nominal, metric.). All variables will be assumed as nominal and subsequent analyses will likely be flawed."),i.apply(this))},this.addData=function(t){try{let e=typeof t;if("string"!==e&&"object"!==e||null===t)throw"Input variable data is neither an object nor a JSON encoded string. The variable type is "+e+". The data could not be properly imported.";return"string"===e&&(t=JSON.parse(t)),this.data=this.data?this.data.concat(t):t,this.lastUpdated=Date.now(),!0}catch(t){return this.errorMessage(t)}},this.addRow=function(t){if(void 0===t)return this.errorMessage("Add Row: No data was given.");let e=void 0!==this.data?this.data:[];return e.push(t),this.data=e,this.lastUpdated=Date.now(),!0},this.removeRow=function(t,e=!1){if(void 0===t)return this.errorMessage("Remove row: No index was given.");let n=this.data,r=this.has(this.columns,"id")||this.has(this.columns,"ID");if(e&&r){let t=-1,r=0;for(;-1===t&&r<n.length;)(this.has(n[r],"id")&&n[r].id===e||this.has(n[r],"ID")&&n[r].ID===e)&&(t=r);n.splice(r,1)}else{if(e&&!r&&this.errorMessage('Remove row: There is no column "id" or "ID". The index '+t+" will be treated as the number of the row, starting at 0."),t>n.length-1)return this.errorMessage("Remove row: The stored data has only "+n.length+" rows and index "+t+" is too large. Indexes start at 0.");n.splice(t,1)}return this.data=n,this.lastUpdated=Date.now(),!0},this.reset=function(){try{return this.data=void 0,this.storedResults=void 0,this.lastUpdated=Date.now(),!0}catch(t){this.errorMessage(t.message)}},this.assignValueMap=function(t){let e={},n={};for(var r in t){if(!this.has(t,r)||this.excludeColumns.indexOf(r)>-1)continue;let i,o=t[r],a=o;if("object"==typeof o&&this.has(o,"scale")&&(this.has(o,"valueMap")&&(i=o.valueMap),a=o.scale),void 0!==i||"nominal"!==a&&"ordinal"!==a||(i=this.getUniqueValues(this.data.map((t=>t[r])))),void 0!==i&&(n[r]=i),this.validScales.indexOf(a)>-1)e[r]=a;else{e[r]="nominal";let t='"'+a+'" scale for variable "'+r+'" is invalid. It was assumed as nominal. Valid scales of measurement include: '+this.validScales.join(", ");this.errorMessage(t)}}this.columns=e,this.valueMaps=n,this.sanitizeColumns()};var i=function(){let t={},e=["th","st","nd","rd"];for(var n=0;n<this.data.length;n++)if("object"!=typeof this.data[n]){let t=n%100,r=n+(e[(t-20)%10]||e[t]||e[0]);this.errorMessage("The "+r+" row was ignored because it is not an object.")}else for(var r in Object.keys(this.data[n]))!r in t&&(t[r]="nominal");this.columns=t,this.lastUpdated=Date.now()};this.sanitizeColumns=function(){let t=this.columns,e=this.data;for(var n=0;n<e.length;n++){let i=e[n];for(var r in t){let o=i[r],a=o;switch(t[r]){case"metric":case"interval":a=this.isNumeric(o)?o:NaN;break;case"ordinal":if(void 0!==this.valueMaps){let t=this.valueMaps[r];void 0!==t&&(a=t.indexOf(o))}}e[n][r]=a}}this.data=e,this.lastUpdated=Date.now()},this.setScale=function(t,e){return void 0===e?(this.errorMessage("This method needs to be called with valid values for both the variable and the scale of measurement to set."),!1):this.has(this.columns,t)?-1===this.validScales.indexOf(e)?(this.errorMessage('"'+e+'" is not a valid scale of measurement. Valid scales include: '+this.validScales.join(", ")),!1):(this.columns[t]=e,!0):(this.errorMessage('There is no variable "'+t+'" defined.'),!1)},this.getScale=function(t){if(void 0!==t&&this.has(this.columns,t))return this.columns[t]},this.getValueMap=function(t){if(void 0!==t&&this.has(this.columns,t))return this.valueMaps[t]},this.applyValueMap=function(t,e){let n=this.getValueMap(t);if("ordinal"===this.getScale(t)&&void 0!==n)return"undefined"===e&&(e=this.getColumn(t)),e.map((t=>n[t]))},this.checkLastUpdated=function(t,e){return!(""===t||!this.has(this.columns,t)||void 0===t||void 0===e)&&(void 0===this.storedResults||void 0===this.storedResults[t]||void 0===this.storedResults[t][e]||void 0===this.storedResults[t][e].lastUpdated||this.storedResults[t][e].lastUpdated<this.lastUpdated)},this.updateStatistics=function(t,e,n){if(void 0!==t&&void 0!==e&&void 0!==n){var r={value:n,lastUpdated:Date.now()};void 0===this.storedResults?this.storedResults={column:{parameter:r}}:void 0===this.storedResults[t]?this.storedResults[t]={parameter:r}:this.storedResults[t][e]=r}},this.getStatistics=function(t,e){if(void 0!==t&&void 0!==e&&this.has(this.columns,t)&&void 0!==this.storedResults[t][e].value)return this.storedResults[t][e].value},this.getColumn=function(t){return void 0===t?this.errorMessage("Get column: No column to sort was specified."):this.has(this.columns,t)?this.data.map((e=>e[t])):this.errorMessage('Get column: The column "'+t+'" was not found.')},this.sortColumn=function(t,e="asc"){return void 0===t?this.errorMessage("Sort column: No column to sort was specified."):this.has(this.columns,t)?this.sort(this.getColumn(t),e):this.errorMessage('Sort column: The column "'+t+'" was not found.')},this.sortDataByColumn=function(t,{data:e=this.data,order:n="asc",changeOriginal:r=!1}={}){return e!==this.data||void 0!==t&&this.has(this.columns,t)?e===this.data||this.has(e[0],t)?function(t,e,n,r){return e.sort((function(e,i){return r.isNumeric(e[t])&&r.isNumeric(i[t])?("asc"===n?1:-1)*(e[t]-i[t]):0}))}(t,r?e:this.deepCopy(e),n,this):this.errorMessage('Sort data by column: The column "'+t+'" does not exist.'):this.errorMessage("Sort data by column: No column was specified or this column does not exist.")},this.sort=function(t,e="asc"){return void 0===t?this.errorMessage("Sort: No values given."):t.constructor!==Array||0===t.length?this.errorMessage("Sort: No array or an empty array of values was given."):function(t,e,n){return t.sort(((t,r)=>e.isNumeric(t)&&e.isNumeric(r)?("asc"===n?1:-1)*(t-r):0))}(this.deepCopy(t),this,e)},this.getUniqueValues=function(t){if(void 0===t)return this.errorMessage("Get unique values: No values given.");let e=this.validateInput(t,"nominal","get unique values");return!1!==e?this.sort(e.data.filter(((t,n)=>e.data.indexOf(t)===n))):void 0},this.reduceToPairs=function(t,e){if(void 0===e||void 0===t)return this.errorMessage("This method requires two variables to be compared.");let n=this.validateInput(t,"nominal");if(!1===n)return;let r=this.validateInput(e,"nominal");if(!1===r)return;let i=n.length>=r.length?n.length:r.length,o=[],a=[],s=[],u="string"==typeof t?t:"first",l="string"==typeof e?e:"second";for(var c=0;c<i;c++){let t=n.data[c],e=r.data[c];if(void 0!==typeof t&&void 0!==typeof e&&!isNaN(t)&&!isNaN(e)){o.push(t),a.push(e);let n={};n[u]=t,n[l]=e,s.push(n)}}return{length:o.length,missings:i-o.length,valuesFirst:o,valuesSecond:a,valuesCombined:s}},this.validateInput=function(t,e="metric",n=""){let r={};if("string"!=typeof t&&(t.constructor!==Array||t.constructor===Array&&0==t.length))return this.errorMessage("No properly formatted data was supplied. Specify a column by its name (string) or supply an array of values."),!1;if("string"==typeof t&&""!==t)r.data=this.getColumn(t),r.scale=this.getScale(t),r.length=r.data.length;else{if(!(t.constructor===Array&&t.length>0))return!1;if(!1===this.validateData(t,e))return!1;r.data=t,r.scale=e,r.length=r.data.length}if(0==r.length)return this.errorMessage("The supplied data or the data of the supplied column contains no values."),!1;if(!o.apply(this,[r.scale,e])){let t=this.validScales.slice(this.validScales.indexOf(e)).join(", "),i=""!==n?n.charAt(0).toUpperCase()+n.slice(1):"This statistical method";return i+=" is only defined for these scales of measurement: "+t+". The scale of the supplied data is "+r.scale+".",this.errorMessage(i),!1}return r},this.validateData=function(e,n="metric"){if(void 0===e||t.constructor!==Array)return this.errorMessage("Validate data: Specify an array storing the values to be validated.");if("nominal"===n)return!0;for(var r=0;r<e.length;r++)if(!this.isNumeric(e[r]))return this.errorMessage("Validate data: The supplied data contains non-numeric values: "+e[r]+" at index "+r),!1;return!0},this.isNumeric=function(t){return void 0!==t?!Array.isArray(t)&&!isNaN(parseFloat(t))&&isFinite(t):void 0};var o=function(t,e){return this.validScales.indexOf(t)>=this.validScales.indexOf(e)};return this.errorMessage=function(t){if(!this.suppressWarnings)try{throw new TypeError("string"==typeof t?t:t.message)}catch(t){console.error("statistics.js: "+t.message)}},this.has=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},this.deepCopy=function(t){let e=Array.isArray(t)?[]:{};for(let n in t){let r=t[n];e[n]="object"==typeof r?this.deepCopy(r):r}return e},n.prototype.assignRanks=function(t,{data:e=this.data,order:n="asc",handleTiedValues:r="mean",returnFrequencies:i=!1}={}){if(void 0===t)return this.errorMessage("Assign ranks: You need to specify a column to be ranked.");let o=this.deepCopy(this.sortDataByColumn(t,{data:e,order:n,changeOriginal:!1})),a={};for(var s=0;s<o.length;s++){let e=o[s][t];a[e]=a[e]?a[e]+1:1}let u=0,l=[];for(s=0;s<o.length;s++){let e=o[s][t],n=s+1,i="rank-"+t;1===a[e]?u=0:"mean"===r?(u++,n=s+a[e]/2-u+1.5):"random"===r&&(0===l.length&&(l=Array.from(new Array(a[e]),((t,e)=>e+s+1))),n=l[Math.floor(Math.random()*l.length)],l.splice(l.indexOf(n),1)),u==a[e]&&(u=0),o[s][i]=n}return i?{data:o,frequencies:a}:o},n.prototype.contingencyTable=function(t,e){if(void 0===e)return this.errorMessage("A contingency table requires two columns to analyze.");if(!this.has(this.columns,t))return this.errorMessage('There is no variable "'+t+'" defined.');if(!this.has(this.columns,e))return this.errorMessage('There is no variable "'+e+'" defined.');let n=this.getScale(t),r=this.getScale(e);if("nominal"!==n&&"ordinal"!==n||"nominal"!==r&&"ordinal"!==r)return this.errorMessage("Both variables need to be nominal for. They are "+n+" and "+r+".");let i=this.getValueMap(t),o=this.getValueMap(e);if(void 0===i||void 0===o)return this.errorMessage("Contingency table: There are no valid values.");let a={total:{total:0}},s=this.data;for(var u=0;u<s.length;u++){let n=s[u][t],r=s[u][e];void 0===a[n]&&(a[n]={total:0}),a[n][r]=void 0!==a[n][r]?a[n][r]+1:1,a.total[n]=void 0!==a.total[n]?a.total[n]+1:1,a.total[r]=void 0!==a.total[r]?a.total[r]+1:1,a[n].total++,a.total.total++}let l={detailled:a};return i.length<=2&&o.length<=2&&(l.a=a[i[0]][o[0]]||0,l.b=a[i[0]][o[1]]||0,l.c=a[i[1]][o[0]]||0,l.d=a[i[1]][o[1]]||0),l},this.showData=function(t){if("string"==typeof t&&this.has(this.columns,t))"ordinal"===this.getScale(t)?console.log(this.applyValueMap(t)):console.log(this.getColumn(t));else if(void 0===t){let t=this.valueMaps,r=this.data;if(void 0!==t)for(var e in t)if(this.has(t,e)&&void 0!==t[e]&&"ordinal"===this.getScale(e))for(var n=0;n<r.length;n++)r[n][e]=t[e][r[n][e]];console.table(r)}else console.log(t)},this.scatterPlot=function(t=this.data,{canvas:e=null,xAxis:n=null,yAxis:r=null,width:i=null,height:o=null,dotRadius:a=4,showGrid:s=!1,minNumberXMarks:u=8,minNumberYMarks:l=8,background:c="#FFFFFF",dotColor:h="#000000",gridColor:f="#CCCCCC",axisColor:d="#000000"}={}){if(void 0===t)return this.errorMessage("Scatter plot: No data given.");if(t.constructor!==Array||0===t.length)return this.errorMessage("Scotter plot: Data is not an array or empty.");if(u<=0||l<=0)return this.errorMessage("Scotter plot: The number of line to plot must be larger than 0.");let p=typeof t[0];if(!("object"!==p||n&&r))return this.errorMessage("Scatter plot: The variables for the x and y axes need to be supplied.");let g={},m=1/0,v=-1/0,y=1/0,b=-1/0,w=0;for(var M=0;M<t.length;M++){let e,i,o=[];if("number"===p||t[0].constructor===Array){if(!this.isNumeric(t[M]))continue;e=M,i=t[M]}else if("object"===p){if(!(this.has(t[M],n)&&this.has(t[M],r)&&this.isNumeric(t[M][n])&&this.isNumeric(t[M][r])))continue;e=t[M][n],i=t[M][r]}this.has(g,e)?o=g[e]:w+=1,o.push(i),g[e]=o,e>v&&(v=e),e<m&&(m=e),i>b&&(b=i),i<y&&(y=i)}m/v<.1&&(m=0),y/b<.1&&(y=0),null===e&&(e=document.createElement("canvas"));let _=e.getContext("2d"),x=i?.1*i:.1*(v-m);for(var T in(i=(i?i-2*x:v-m)+2*a)<400&&(i=400),(o=(o?o-2*x:b-y)+2*a)<400&&(o=400),x<40&&(x=40),e.width=i,e.height=o,_.fillStyle="transparent",_.fillRect(0,0,i,o),_.fillStyle=h,g)for(var S=0;S<g[T].length;S++){let t=(T-m)*(i-a)/(v-m),e=o-(g[T][S]-y)*(o-a)/(b-y)-a;_.fillRect(t,e,a,a)}const N=function(t,e,n,r,i,o=d){t.strokeStyle=o,t.beginPath(),t.moveTo(Math.floor(e),Math.floor(n)),t.lineTo(Math.floor(r),Math.floor(i)),t.stroke(),t.strokeStyle=d};let C=document.createElement("canvas"),A=C.getContext("2d"),E=i+2*x-2*a,k=o+2*x-2*a;C.width=E,C.height=k,A.fillStyle=c,A.fillRect(0,0,E,k),A.fillStyle=d,A.font=.2*x+"px Arial",A.textAlign="center",A.textBaseline="middle";let D=Math.round((v-m)/u),O=D>=1?Math.pow(10,parseInt(D).toString().length-1):Math.pow(10,-2);D=Math.round(D/O)*O;let U=0,R=0,q=0;if(D>0)for(M=0;M<u||U<=v&&R<=i-2*x;M++)U=Math.round(m/O)*O+M*D,R=.5*x+(U-m)*(i-a)/(v-m),R>E-.5*x||R<.5*x||(N(A,R,k-.4*x,R,k-.6*x),s&&N(A,R,k-.6*x,R,.5*x,f),A.fillText(U,R,k-.2*x));let F=(b-y)/l,I=F>=1?Math.pow(10,parseInt(F).toString().length-1):Math.pow(10,-2);if(F=Math.round(F/I)*I,U=0,F>0)for(M=0;M<l||U<=b&&q<=o-2*x;M++)U=Math.round(y/I)*I+M*F,q=1.5*x-2*a+o-(U-y)*(o-a)/(b-y),q>k-.5*x||q<.5*x||(N(A,.4*x,q,.6*x,q),s&&N(A,.6*x,q,i+x-2*a,q,f),A.fillText(U,.2*x,q));return N(A,.5*x,k-.5*x,E-x,k-.5*x),N(A,.5*x,k-.5*x,.5*x,.5*x),A.drawImage(e,.5*x-.5*a,1.5*x-1.5*a),_.drawImage(C,0,0,i,o),e},this.init(t,e,r)};t.exports&&(e=t.exports=n),e.Statistics=n,n.prototype.mean=function(t){return void 0!==t?this.arithmeticMean(t):void 0},n.prototype.arithmeticMean=function(t){if(void 0===t)return this.errorMessage("Arithmetic mean: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"mean"))return this.getStatistics(t,"mean");let e=this.validateInput(t,"interval","arithmetic mean");if(!1===e)return;let n=this.sumExact(e.data)/e.length;return"string"==typeof t&&this.updateStatistics(t,"mean",n),n},n.prototype.geometricMean=function(t){if(void 0===t)return this.errorMessage("Geometric mean: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"geometricMean"))return this.getStatistics(t,"geometricMean");let e=this.validateInput(t,"metric","geometric mean");if(!1===e)return;let n,r=!1;return n=e.data.reduce(((t,e)=>e>0?t*e:(r=!0,t)),1),!r&&e.length>0?n=Math.pow(n,1/e.length):(this.errorMessage("Geometric mean is not defined because the data contains non-positive values."),n=void 0),"string"==typeof t&&this.updateStatistics(t,"geometricMean",n),n},n.prototype.harmonicMean=function(t){if(void 0===t)return this.errorMessage("Harmonic mean: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"harmonicMean"))return this.getStatistics(t,"harmonicMean");let e=this.validateInput(t,"metric","harmonicMean");if(!1===e)return;let n=!1,r=!1,i=e.data.reduce(((t,e)=>e<0?(r=!0,0):0!==e?t+1/e:(n=!0,0)),0);return i=n?0:e.length/i,i=r?void 0:i,"string"==typeof t&&this.updateStatistics(t,"harmonicMean",i),i},n.prototype.rootMeanSquare=function(t){if(void 0===t)return this.errorMessage("Root mean square: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"rootMeanSquare"))return this.getStatistics(t,"rootMeanSquare");let e=this.validateInput(t,"interval","root mean square");if(!1===e)return;let n=Math.sqrt(e.data.reduce(((t,e)=>t+e*e),0)/e.length);return"string"==typeof t&&this.updateStatistics(t,"rootMeanSquare",n),n},n.prototype.cubicMean=function(t){if(void 0===t)return this.errorMessage("Cubic mean: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"cubicMean"))return this.getStatistics(t,"cubicMean");let e=this.validateInput(t,"interval","cubic mean");if(!1===e)return;let n=e.data.reduce(((t,e)=>t+e*e*e),0);return n=n>=0&&e.length>0?Math.pow(n/e.length,1/3):void 0,"string"==typeof t&&this.updateStatistics(t,"cubicMean",n),n},n.prototype.winsorisedMean=function(t,e=.2){if(void 0===t)return this.errorMessage("Winsorised mean: No data was supplied.");if(e<0||e>.5)return this.errorMessage("winsorisedMean should be called with a percentage value within the range of [0, 0.5].");if(.5===e)return this.median(t);let n=this.validateInput(t,"interval","Winsorised (truncated) mean");if(!1===n)return;let r=Math.floor(n.length*e),i=this.sort(n.data).slice(r,n.length-r);return i=Array(r).fill(i[0]).concat(i).concat(Array(r).fill(i[i.length-1])),this.sumExact(i)/n.length},n.prototype.gastwirthCohenMean=function(t,{alpha:e=.25,lambda:n=.25}={}){if(void 0===t)return this.errorMessage("Gastwirth-Cohen mean: No data was supplied.");if(!1===this.validateInput(t,"ordinal","Gastwirth-Cohen Mean"))return;if(!this.isNumeric(e)||e<0||e>.5)return this.errorMessage("Gastwirth-Cohen mean should be called with an alpha value within the range of [0, 0.5].");if(!this.isNumeric(n)||n<0||n>.5)return this.errorMessage("Gastwirth-Cohen mean should be called with a lambda value within the range of [0, 0.5].");let r,i=this.quantile(t,e),o=this.quantile(t,1-e),a=this.median(t);return void 0!==i&&void 0!==o&&void 0!==a&&(r=n*(i+o)+(1-2*n)*a),r},n.prototype.midRange=function(t){if(void 0===t)return this.errorMessage("Mid-range: No data was supplied.");if(!1===this.validateInput(t,"interval","mid-range"))return;let e=this.minimum(t),n=this.maximum(t);return void 0!==e&&void 0!==n?.5*(e+n):void 0},n.prototype.median=function(t){if(void 0===t)return this.errorMessage("Median: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"median"))return this.getStatistics(t,"median");let e=this.quantile(t,.5);return"string"==typeof t&&this.updateStatistics(t,"median",e),e},n.prototype.mode=function(t){if(void 0===t)return this.errorMessage("Mode: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"mode"))return this.getStatistics(t,"mode");let e=this.validateInput(t,"nominal","mode");if(!1===e)return;let n=e.data,r=[],i=[n[0]],o=1;for(var a=1;a<e.length;a++){let t=n[a];r[t]=null==r[t]?1:r[t]+1,r[t]>o?(i=[t],o=r[t]):r[t]===o&&i.push(t)}return 1===i.length&&(i=i[0]),"string"==typeof t&&this.updateStatistics(t,"mode",i),i},n.prototype.minimum=function(t){if(void 0===t)return this.errorMessage("Minimum: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"minimum"))return this.getStatistics(t,"minimum");let e=this.validateInput(t,"ordinal","minimum");if(!1===e)return;let n=1/0,r=e.length;for(;r--;)e.data[r]<n&&(n=e.data[r]);return"string"==typeof t&&this.updateStatistics(t,"minimum",n),n},n.prototype.maximum=function(t){if(void 0===t)return this.errorMessage("Maximum: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"maximum"))return this.getStatistics(t,"maximum");let e=this.validateInput(t,"ordinal","maximum");if(!1===e)return;let n=-1/0,r=e.length;for(;r--;)e.data[r]>n&&(n=e.data[r]);return"string"==typeof t&&this.updateStatistics(t,"maximum",n),n},n.prototype.range=function(t){if(void 0===t)return this.errorMessage("Range: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"range"))return this.getStatistics(t,"range");let e,n;if("string"==typeof t&&"nominal"===this.getScale(t)){if(e=this.validateInput(t,"nominal","range"),!1===e)return;n=this.getUniqueValues(e.data)}else{if(e=this.validateInput(t,"ordinal","range"),!1===e)return;let r=this.sort(e.data);n=r[e.length-1]-r[0]}return"string"==typeof t&&this.updateStatistics(t,"range",n),n},n.prototype.variance=function(t,e=!0){if(void 0===t)return this.errorMessage("Variance: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"variance"))return this.getStatistics(t,"variance");let n=this.validateInput(t,"interval","variance");if(!1===n)return;if(n.length<2)return this.errorMessage("The data supplied to compute variance needs to contain at least two datasets.");let r=0;if(this.isNumeric(e)){for(var i=0;i<n.length;i++)r+=Math.pow(e-n.data[i],2);r/=n.length-1}else{let t=0,o=0;for(i=0;i<n.length;i++){t+=1;let e=n.data[i]-o;o+=e/t,r+=e*(n.data[i]-o)}e&&t>1?r/=t-1:!e&&t>0?r/=t:r=void 0}return"string"==typeof t&&this.updateStatistics(t,"variance",r),r},n.prototype.standardDeviation=function(t,e=!0){if(void 0===t)return this.errorMessage("Standard deviation: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"standardDeviation"))return this.getStatistics(t,"standardDeviation");let n=this.validateInput(t,"interval","standard deviation");if(!1===n)return;if(n.length<2)return this.errorMessage("The data supplied to compute standardDeviation needs to contain at least two datasets.");let r=Math.sqrt(this.variance(t,e));return"string"==typeof t&&this.updateStatistics(t,"standardDeviation",r),r},n.prototype.coefficientOfVariation=function(t,e){if(void 0===t)return this.errorMessage("Coefficient of variation: No data was supplied.");let n=this.validateInput(t,"interval","coefficient of variation");if(!1===n)return;let r=this.standardDeviation(n.data),i=void 0===e?this.mean(n.data):e;return void 0!==r&&void 0!==i&&0!==i?r/i:void 0},n.prototype.indexOfDispersion=function(t,e){if(void 0===t)return this.errorMessage("Index of dispersion: No data was supplied.");let n=this.validateInput(t,"interval","coefficient of variation");if(!1===n)return;let r=this.variance(n.data),i=void 0===e?this.mean(n.data):e;return void 0!==r&&void 0!==i&&0!==i?r/i:void 0},n.prototype.geometricStandardDeviation=function(t){if(void 0===t)return this.errorMessage("Geomtric standard deviation: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"geometricStandardDeviation"))return this.getStatistics(t,"geometricStandardDeviation");let e=this.validateInput(t,"interval","geometric standard deviation");if(!1===e)return;let n=e.length,r=this.geometricMean(t),i=0,o=!1;for(var a=0;a<n;a++)e.data[a]<=0?o=!0:i+=Math.pow(Math.log(e.data[a]/r),2);return i=o?void 0:Math.exp(Math.sqrt(i/n)),"string"==typeof t&&this.updateStatistics(t,"geometricStandardDeviation",i),i},n.prototype.medianAbsoluteDeviation=function(t){if(void 0===t)return this.errorMessage("Median absolute deviation: No data was supplied.");let e=this.validateInput(t,"interval","median absolute deviation");if(!1===e)return;let n=e.data,r=this.median(n);return void 0!==r?(n=n.map((t=>Math.abs(t-r))),this.median(n)):void 0},n.prototype.cumulativeFrequency=function(t,e){if(void 0===t)return this.errorMessage("Cumulative frequency: No data was supplied.");if(void 0===e||!this.isNumeric(e))return void this.errorMessage("You need to specify a boundary for the cumulative frequency analysis that is either an integer or a floating point number.");let n=this.validateInput(t,"ordinal","cumulative frequency analysis");if(!1===n)return;let r=this.sort(n.data),i=0;for(;e>=r[i];)i++;return i},n.prototype.frequencies=function(t){if(void 0===t)return this.errorMessage("Frequencies: No data was supplied.");let e=this.validateInput(t,"nominal","frequencies");if(!1===e)return;let n=e.data,r={},i=[];for(var o=0;o<e.length;o++){let t=n[o];null==r[t]?(i.push(t),r[t]=1):r[t]++}return i=i.sort(((t,e)=>r[e]-r[t])),i=i.map((t=>({value:t,absolute:r[t],relative:r[t]/e.length}))),i},n.prototype.quantile=function(t,e=.5){if(void 0===t)return this.errorMessage("Quantile: No data was supplied.");if(!this.isNumeric(e)||e<0||e>1)return this.errorMessage("Quantiles should be called with a percentage value within the range of [0, 1].");let n=this.validateInput(t,"ordinal","quantile");if(!1===n)return;let r=e*n.length,i=this.sort(n.data);return r%1==0?.5*(i[r]+i[r-1]):i[Math.floor(r)]},n.prototype.quartiles=function(t){if(void 0===t)return this.errorMessage("Quartiles: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"quartiles"))return this.getStatistics(t,"quartiles");let e=[this.quantile(t,.25),this.quantile(t,.75)];return void 0!==e[0]&&void 0!==e[1]?(this.updateStatistics(t,"quartiles",e),e):void 0},n.prototype.interQuartileRange=function(t){if(void 0===t)return this.errorMessage("Interquartile range: No data was supplied.");let e=this.validateInput(t,"interval","interquartile range");if(!1===e)return;let n=this.quartiles(e.data);return void 0!==n?n[1]-n[0]:void 0},n.prototype.skewness=function(t,e=!1){if(void 0===t)return this.errorMessage("Skewness: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"skewness"))return this.getStatistics(t,"skewness");let n=this.validateInput(t,"ordinal","skewness");if(!1===n)return;if(n.length<2)return;let r=this.mean(t),i=this.standardDeviation(t,!1),o=0;for(var a=0;a<n.length;a++)o+=Math.pow(n.data[a]-r,3);let s=o/Math.pow(i,3);return s*=e?n.length/((n.length-1)*(n.length-2)):1/n.length,"string"==typeof t&&this.updateStatistics(t,"skewness",s),s},n.prototype.kurtosis=function(t){if(void 0===t)return this.errorMessage("Kurtosis: No data was supplied.");if("string"==typeof t&&!1===this.checkLastUpdated(t,"kurtosis"))return this.getStatistics(t,"kurtosis");let e=this.validateInput(t,"ordinal","kurtosis");if(!1===e)return;if(e.length<2)return;let n=this.mean(t),r=this.standardDeviation(t),i=0;for(var o=0;o<e.length;o++)i+=Math.pow(e.data[o]-n,4);let a=i/(e.length*Math.pow(r,4));return"string"==typeof t&&this.updateStatistics(t,"kurtosis",a),a},n.prototype.excessKurtosis=function(t){if(void 0===t)return this.errorMessage("Excess kurtosis: No data was supplied.");let e=this.kurtosis(t);return void 0!==e?e-3:void 0},n.prototype.sum=function(t){return void 0===t?this.errorMessage("Sum: No data given."):("string"==typeof t&&this.has(this.columns,t)&&(t=this.getColumn(t)),0!=t.length?t.reduce(((t,e)=>this.isNumeric(e)?t+e:t),0):void 0)},n.prototype.sumExact=function(t){if(void 0===t)return this.errorMessage("Sum exact: No data given.");if("string"==typeof t&&this.has(this.columns,t)&&(t=this.getColumn(t)),0==t.length)return;let e=0,n=0;for(var r=0;r<t.length;r++){let i=this.isNumeric(t[r])?t[r]:0;i-=n;let o=e+i;n=o-e-i,e=o}return e},n.prototype.product=function(t){return void 0===t?this.errorMessage("Product: No data given."):("string"==typeof t&&this.has(this.columns,t)&&(t=this.getColumn(t)),0===t.length?1:t.reduce(((t,e)=>this.isNumeric(e)?t*e:t),1))},n.prototype.factorial=function(t){return this.isNumeric(t)&&!Number.isInteger(t)?this.gamma(t):void 0!==this.factorials[t]?this.factorials[t]:this.computeFactorial(t)},n.prototype.computeFactorial=function(t){if(void 0===t||!this.isNumeric(t)||t<0)return;if(void 0!==this.factorials[t])return this.factorials[t];if(!Number.isInteger(t))return this.gamma(t);let e=1,n=1;for(;t>n;)n++,e*=n,void 0===this.factorials[n]&&(this.factorials[n]=e);return e},n.prototype.binomialCoefficient=function(t=1,e=1){if(t<e||e<0)return this.errorMessage("The binomial coefficient is only defined for n and k with n ≥ k ≥ 0. N is "+t+" and k is "+e+".");if(!Number.isInteger(t)||!Number.isInteger(e))return this.errorMessage("The binomial coefficient is only defined for integers n and k.");let n=[];for(var r=1;r<=e;r++)n.push((t+1-r)/r);return this.product(n)},n.prototype.gamma=function(t,e=!1){if(void 0!==t&&this.isNumeric(t)&&!(t<0))return Number.isInteger(t)&&void 0!==this.factorials[t-1]?this.factorials[t-1]:e?this.gammaSpouge(t):this.gammaStirling(t)},n.prototype.gammaSpouge=function(t){if(void 0===t||!this.isNumeric(t)||t<0)return;if(Number.isInteger(t)&&void 0!==this.factorials[t-1])return this.factorials[t-1];const e=this.spougeConstant;let n=Math.pow(t+e,t+.5),r=1,i=0,o=Math.sqrt(2*Math.PI);n*=Math.exp(-t-e),n/=t;for(var a=1;a<e;a++)t++,i=Math.pow(e-a,a-.5),i*=Math.exp(e-a),i/=r,o+=i/t,r*=-a;return o*n},n.prototype.gammaStirling=function(t){if(void 0===t||!this.isNumeric(t)||t<0)return;if(Number.isInteger(t)&&void 0!==this.factorials[t-1])return this.factorials[t-1];let e=1/(10*t);return e=1/(12*t-e),e=.36787944117144233*(e+t),e=Math.pow(e,t),e*=Math.sqrt(6.283185307179586/t),e},n.prototype.incompleteGamma=function(t,e){if(void 0===e)return this.errorMessage("The incomplete lower gamma function is only defined for two numeric variables s and x.");if(!this.isNumeric(t)||!this.isNumeric(e))return this.errorMessage("The incomplete lower gamma function is only defined for numeric variables s and x.");if(e<0)return this.errorMessage("The incomplete lower gamma function is defined for x > 0.");let n=this.incompleteGammaIterations,r=1;for(var i=0;i<n;i++){let o=n-i;r=e+(o-t)/(1+o/r)}return this.gamma(t,!0)-Math.exp(-e)*Math.pow(e,t)/r},n.prototype.regularisedGamma=function(t,e){return void 0===e?this.errorMessage("The regularised lower gamma function is only defined for two numeric variables s and x."):this.isNumeric(t)&&this.isNumeric(e)?e<0?this.errorMessage("The regularised lower gamma function is defined for x > 0."):this.incompleteGamma(t,e)/this.gamma(t,!0):this.errorMessage("The regularised lower gamma function is only defined for numeric variables s and x.")},n.prototype.beta=function(t,e){return void 0===e?this.errorMessage("The beta function is only defined for two numeric variables a and b."):this.isNumeric(t)&&this.isNumeric(e)?t<=0||e<=0?this.errorMessage("The beta function is defined for a and b with a > 0 and b > 0."):Number.isInteger(t)&&Number.isInteger(e)&&t>0&&e>0?this.factorial(t-1)*this.factorial(e-1)/this.factorial(t+e-1):this.gamma(t,!0)*this.gamma(e,!0)/this.gamma(t+e,!0):this.errorMessage("The beta function is only defined for numeric variables a and b.")},n.prototype.incompleteBeta=function(t,e,n){if(void 0===n)return this.errorMessage("The incomplete beta function is only defined for two numeric variables a and b.");if(!this.isNumeric(t)||!this.isNumeric(e)||!this.isNumeric(n))return this.errorMessage("The incomplete beta function is only defined for numeric variables x, a and b.");if(t<0||t>1)return this.errorMessage("The incomplete beta function is defined for x ≥ 0 and x ≦ 1.");if(e<=0||n<=0)return this.errorMessage("The incomplete beta function is defined for a and b with a > 0 and b > 0.");if(1==t)return this.beta(e,n);var r=function(t,e,n,r){if(t%2==0){let i=.5*t;return i*(n-i)*r/((e+2*i-1)*(e+2*i))}{let i=.5*t-.5;return-(e+i)*(e+n+i)*r/((e+2*i)*(e+2*i+1))}};let i=Math.pow(t,e)*Math.pow(1-t,n)/e,o=this.incompleteBetaIterations,a=1;for(var s=0;s<o;s++)a=1+r(o-s,e,n,t)/a;return i/a},n.prototype.regularisedBeta=function(t,e,n){if(void 0===n)return this.errorMessage("The regularised beta function is only defined for two numeric variables a and b.");if(!this.isNumeric(t)||!this.isNumeric(e)||!this.isNumeric(n))return this.errorMessage("The regularised beta function is only defined for numeric variables x, a and b.");if(t>1||t<0)return this.errorMessage("The regularised beta function is defined for x ≥ 0 and x ≦ 1.");if(e<=0||n<=0)return this.errorMessage("The regularised beta function is defined for a and b with a > 0 and b > 0.");if(!Number.isInteger(e)||!Number.isInteger(n))return this.incompleteBeta(t,e,n)/this.beta(e,n);let r=this.epsilon+1,i=e,o=0;for(;r>=this.epsilon;)r=this.binomialCoefficient(n+i-1,i)*Math.pow(t,i),o+=r,i++;return o*Math.pow(1-t,n)},n.prototype.covariance=function(t,e,n=!0){if(void 0===e)return this.errorMessage("Covariance requires two variables to be compared.");let r=this.validateInput(t,"interval","covariance");if(!1===r)return;let i=this.validateInput(e,"interval","covariance");if(!1===i)return;let o=this.reduceToPairs(r.data,i.data);if(0===o.length)return;let a=this.mean(o.valuesFirst),s=this.mean(o.valuesSecond),u=0;for(var l=0;l<o.length;l++)u+=(o.valuesFirst[l]-a)*(o.valuesSecond[l]-s);return n&&o.length>1?u/=o.length-1:!n&&o.length>0?u/=o.length:u=void 0,{covariance:u,missings:o.missings}},n.prototype.correlationCoefficient=function(t,e){if(void 0===e)return this.errorMessage("Pearson correlation coefficient requires two variables to be compared.");let n=this.validateInput(t,"interval","Pearson correlation coefficient");if(!1===n)return;let r=this.validateInput(e,"interval","Pearson correlation coefficient");if(!1===r)return;let i=n.length>=r.length?n.length:r.length,o=n.data,a=r.data,s=[],u=0,l=0;for(var c=0;c<i;c++){let t=o[c],e=a[c];void 0===typeof t||void 0===typeof e||isNaN(t)||isNaN(e)||(u+=t,l+=e,s.push([t,e]))}let h=i-s.length;if(i=s.length,0===i)return;u/=i,l/=i;let f=0,d=0,p=0;for(c=0;c<i;c++){let t=s[c][0]-u,e=s[c][1]-l;f+=t*e,d+=t*t,p+=e*e}return{correlationCoefficient:d>0&&p>0?f/Math.sqrt(d*p):0,missings:h}},n.prototype.spearmansRho=function(t,e,n=!1){if(void 0===e)return this.errorMessage("Spearman's Rho requires two variables to be compared.");if(!1===this.validateInput(t,"ordinal","Spearman's Rho"))return;if(!1===this.validateInput(e,"ordinal","Spearman's Rho"))return;let r=this.reduceToPairs(t,e),i=r.length;if(0===i)return;let o=this.assignRanks(t,{data:r.valuesCombined,returnFrequencies:!0,order:"desc"}),a=o.frequencies;o=this.assignRanks(e,{data:o.data,returnFrequencies:!0,order:"desc"});let s=o.frequencies;o=o.data;let u=6*o.reduce(((n,r)=>n+Math.pow(r["rank-"+t]-r["rank-"+e],2)),0);if(n){let t=Object.values(a).reduce(((t,e)=>t+Math.pow(e,3)-e)),e=Object.values(s).reduce(((t,e)=>t+Math.pow(e,3)-e));u=(Math.pow(i,3)-i-.5*t-.5*e-u)/Math.sqrt((Math.pow(i,3)-i-t)*(Math.pow(i,3)-i-e))}else u=1-u/(Math.pow(i,3)-i);let l=i-2,c=Math.sqrt((l-1)/1.06)*this.fisherTransformation(u),h=1-this.normalCumulativeValue(Math.abs(c)),f=u*Math.sqrt(l/(1-u*u)),d=1-this.studentsTCumulativeValue(Math.abs(f),l);return{rho:u,significanceNormal:{zScore:c,pOneTailed:h,pTwoTailed:2*h},significanceStudent:{degreesOfFreedom:l,tStatistic:f,pOneTailed:d,pTwoTailed:2*d},missings:r.missings}},n.prototype.kendallsTau=function(t,e){if(void 0===e)return this.errorMessage("Kendall's Tau requires two columns to analyze.");if(!1===this.validateInput(t,"ordinal","Kendall's Tau"))return;if(!1===this.validateInput(e,"ordinal","Kendall's Tau"))return;let n=this.reduceToPairs(t,e),r=n.length,i=n.valuesCombined,o=0,a=0,s={},u={},l=0;for(var c=0;c<r-1;c++)for(var h=c+1;h<r;h++){let n=i[c][t],r=i[h][t],f=i[c][e],d=i[h][e];n===r?f===d?l+=1:s[f]=this.has(s,f)?s[f]+1:1:f===d?u[f]=this.has(u,f)?u[f]+1:1:Math.sign(n-r)===Math.sign(f-d)?o+=1:a+=1}let f=o-a,d=Object.keys(s).length+Object.keys(u).length===0?2*f/(r*(r-1)):void 0,p=3*f/Math.sqrt(.5*r*(r-1)*(2*r+5)),g=this.normalCumulativeValue(-Math.abs(p)),m=2<n.length?2:n.length,v=2*m*f/(r*r*(m-1)),y=d,b=p,w=g;if(void 0===d){y=f/Math.sqrt((o+a+Object.keys(s).length)*(o+a+Object.keys(u).length));let t=0,e=0,n=0,i=0,l=0,c=0;for(var M in s)t+=M*(M-1)*(2*M+5),n+=M*(M-1),i+=M*(M-1)*(M-2);for(var M in u)e+=M*(M-1)*(2*M+5),i+=M*(M-1)/(2*r*(r-1)),c+=M*(M-1)*(M-2)/(9*r*(r-1)*(r-2));b=r*(r-1)*(2*r+5),b=(b-t-e)/18+n*i+l*c,b=f/Math.sqrt(b),w=this.normalCumulativeValue(-Math.abs(b))}return{a:void 0!==d?{tauA:d,z:p,pOneTailed:g,pTwoTailed:2*g}:void 0,b:void 0!==d?{tauB:d,z:p,pOneTailed:g,pTwoTailed:2*g}:{tauB:y,z:b,pOneTailed:w,pTwoTailed:2*w},c:{tauC:v},missings:n.missings}},n.prototype.goodmanKruskalsGamma=function(t,e){if(void 0===e)return this.errorMessage("Goodman and Kruskal's Gamma requires two columns to analyze.");if(!1===this.validateInput(t,"ordinal","Goodman and Kruskal's Gamma"))return;if(!1===this.validateInput(e,"ordinal","Goodman and Kruskal's Gamma"))return;let n=this.reduceToPairs(t,e),r=n.valuesCombined,i=n.length,o=0,a=0;for(var s=0;s<i-1;s++)for(var u=s+1;u<i;u++){let n=r[s][t],i=r[u][t],l=r[s][e],c=r[u][e];n!==i&&l!==c&&(Math.sign(n-i)===Math.sign(l-c)?o+=1:a+=1)}let l=(o-a)/(o+a),c=l*Math.sqrt((o+a)/(i*(1-l*l))),h=1-this.studentsTCumulativeValue(Math.abs(c),i-2);return{gamma:l,tStatistic:c,pOneTailed:h,pTwoTailed:2*h,missings:n.missings}},n.prototype.fisherTransformation=function(t){return void 0===t||!this.isNumeric(t)||t<-1||t>1?this.errorMessage("Fisher transformation is only defined for a Pearson correlation coefficient within the interval of [-1, 1]."):Math.atanh(t)||.5*Math.log((1+t)/(1-t))},n.prototype.linearRegression=function(t,e){if(void 0===e)return this.errorMessage("Linear regression requires two columns to compare.");let n=this.validateInput(t,"interval","linear regression");if(!1===n)return;let r=this.validateInput(e,"interval","linear regression");if(!1===r)return;let i=this.reduceToPairs(n.data,r.data),o=i.valuesFirst,a=i.valuesSecond,s=(i.missings,i.length);if(0===s)return;let u=this.mean(o),l=this.mean(a),c=0,h=0,f=0;for(var d=0;d<s;d++){let t=o[d]-u,e=a[d]-l;f+=t*e,c+=t*t,h+=e*e}if(0===c||0===h)return;let p=f/c,g=f/h,m=l-p*u,v=u-g*l,y=f/Math.sqrt(c*h),b=y*y,w=s>2?1-(1-b)*(s-1)/(s-2):void 0,M=180*Math.acos(y)/Math.PI;return M>90&&(M=180-M),{regressionFirst:{beta1:m,beta2:p},regressionSecond:{beta1:v,beta2:g},coefficientOfDetermination:b,coefficientOfDeterminationCorrected:w,correlationCoefficient:y,phi:M}},n.prototype.normalProbabilityDensity=function(t,e=0,n=1){if(void 0===t)return this.errorMessage("Normal probability density: no x is given.");if(n<=0)return this.errorMessage("Normal probability density: variance must be larger than 0.");let r=-Math.pow(t-e,2)/(2*n);return Math.exp(r)/Math.sqrt(2*Math.PI*n)},n.prototype.normalDistribution=function(t=0,e=1){if(e<=0)return this.errorMessage("Normal distribution: variance must be larger than 0.");let n=0,r=1,i={};for(;r>=this.epsilon&&(r=this.normalProbabilityDensity(t+n,t,e),!(r<this.epsilon));)i[(t+n).toFixed(2)]=r,i[(t-n).toFixed(2)]=r,n+=.01;return i},n.prototype.normalCumulativeValue=function(t){if(void 0===t)return this.errorMessage("Normal cumulative value: no z is given.");let e=t,n=t;for(var r=1;r<this.zTableIterations;r++)n*=t*t/(2*r+1),e+=n;return Math.round(1e5*(.5+e/Math.sqrt(2*Math.PI)*Math.exp(-.5*t*t)))/1e5},n.prototype.normalCumulativeDistribution=function(){let t=this.zTable;if(void 0===t){t={};for(var e=0;e<=4.09;e+=.01)t[(Math.round(100*e)/100).toFixed(2)]=this.normalCumulativeValue(e);this.zTable=t}return t},n.prototype.binomialProbabilityMass=function(t,e=10,n=.5){return void 0===t?this.errorMessage("Binomial probability mass: the required argument k was not given."):t<0||!Number.isInteger(t)?this.errorMessage("Binomial probability mass: k must be a non-negative integer."):e<0||!Number.isInteger(e)?this.errorMessage("Binomial probability mass: n must be a non-negative integer."):n<0||n>1?this.errorMessage("Binomial probability mass: The probability must lie within the range of [0, 1]."):this.binomialCoefficient(e,t)*Math.pow(n,t)*Math.pow(1-n,e-t)},n.prototype.binomialDistribution=function(t=10,e=.5){if(t<0||!Number.isInteger(t))return this.errorMessage("Binomial distribution: n must be a non-negative integer.");if(e<0||e>1)return this.errorMessage("Binomial distribution: The probability must lie within the range of [0, 1].");let n=0,r=0,i=0,o=[],a=1;for(;n<=t;)r=a*Math.pow(e,n)*Math.pow(1-e,t-n),o.push(r),i+=r,n++,a=a*(t+1-n)/n;return o},n.prototype.binomialCumulativeValue=function(t,e=10,n=.5){return void 0===t?this.errorMessage("Binomial cumulative distribution value: the required argument k was not given."):t<0||!Number.isInteger(t)?this.errorMessage("Binomial cumulative distribution value: k must be a non-negative integer."):e<0||!Number.isInteger(e)?this.errorMessage("Binomial cumulative distribution value: n must be a non-negative integer."):n<0||n>1?this.errorMessage("Binomial cumulative distribution value: The probability must lie within the range of [0, 1]."):this.regularisedBeta(1-n,e-t,t+1)},n.prototype.binomialCumulativeDistribution=function(t=10,e=.5){if(t<0||!Number.isInteger(t))return this.errorMessage("Binomial cumulative distribution: n must be a non-negative integer.");if(e<0||e>1)return this.errorMessage("Binomial cumulative distribution: The probability must lie within the range of [0, 1].");let n=this.binomialDistribution(t,e),r=0;return n.map((function(t){return r=this.sumExact([r,t]),r}),this)},n.prototype.poissonProbabilityMass=function(t,e=1){if(void 0===t||!Number.isInteger(t))return this.errorMessage("Poisson probability mass: the required argument k must be an integer.");if(t<0||e<=0)return this.errorMessage("Poisson probability mass: Both k and lambda must be larger than 0.");if(t>10){let r=1;for(var n=1;n<=t;n++)r*=e*Math.exp(-e/t)/n;return r}return Math.exp(-e)*Math.pow(e,t)/this.factorial(t)},n.prototype.poissonDistribution=function(t=1){if(t<=0)return this.errorMessage("Poisson distribution: Lambda must be larger than 0.");let e=0,n=0,r=[];for(;n<1-this.epsilon;){let i=this.poissonProbabilityMass(e,t);r.push(i),n+=i,e++}return r},n.prototype.poissonCumulativeValue=function(t,e=1){if(void 0===t||!Number.isInteger(t))return this.errorMessage("Poisson cumulative distribution: The number of cumulative events k must be supplied.");if(t<0||e<=0)return this.errorMessage("Poisson distribution: Both k and lambda must be larger than 0.");let n=this.poissonDistribution(e);return t<n.length-1?this.sumExact(n.slice(0,t+1)):1},n.prototype.poissonCumulativeDistribution=function(t=1){if(t<=0)return this.errorMessage("Poisson distribution: lambda must be larger than 0.");let e=this.poissonDistribution(t),n=0;return e.map((function(t){return n=this.sumExact([n,t]),n}),this)},n.prototype.studentsTProbabilityDensity=function(t,e){if(void 0===e)return this.errorMessage("Student's t-distribution probability density: no value for degrees of freedom (df) given.");if(e<=0)return this.errorMessage("Student's t-distribution probability density: degrees of freedom (df) must be larger than 0.");let n=Math.pow(1+t*t/e,-.5*(e+1));return n/=Math.sqrt(e)*this.beta(.5,.5*e),n},n.prototype.studentsTDistribution=function(t){if(void 0===t)return this.errorMessage("Student's t-distribution: no value for degrees of freedom (df) given.");if(t<=0)return this.errorMessage("Student's t-distribution: degrees of freedom (df) must be larger than 0.");let e=0,n=1,r={};for(;n>=this.epsilon&&(n=this.studentsTProbabilityDensity(e,t),!(n<this.epsilon));)r[e.toFixed(2)]=n,r[(-e).toFixed(2)]=n,e+=.01;return r},n.prototype.studentsTCumulativeValue=function(t,e){return void 0===e?this.errorMessage("Student's cumulative t-distribution value: no value for degrees of freedom (df) given."):e<=0?this.errorMessage("Student's cumulative t-distribution value: degrees of freedom (df) must be larger than 0."):t<=0?.5*this.regularisedBeta(e/(t*t+e),.5*e,.5):.5+.5*this.regularisedBeta(t*t/(t*t+e),.5,.5*e)},n.prototype.studentsTCumulativeDistribution=function(t){if(void 0===t)return this.errorMessage("Student's cumulative t-distribution: no value for degrees of freedom (df) given.");if(t<=0)return this.errorMessage("Student's cumulative t-distribution: degrees of freedom (df) must be larger than 0.");let e=0,n=0,r=-.1,i={};for(;n<=1-this.epsilon&&(n=this.studentsTCumulativeValue(e,t),!(r>=n));)i[e.toFixed(2)]=n,i[(-e).toFixed(2)]=n,r=n,e+=.01;return i},n.prototype.chiSquaredProbabilityDensity=function(t,e){return void 0===e?this.errorMessage("Chi squared distribution probability density: no value for degrees of freedom (df) given."):e<=0?this.errorMessage("Chi squared distribution probability density: degrees of freedom (df) must be larger than 0."):t<=0?0:Math.pow(t,.5*e-1)*Math.exp(-.5*t)/(Math.pow(2,.5*e)*this.gamma(.5*e,!0))},n.prototype.chiSquaredDistribution=function(t){if(void 0===t)return this.errorMessage("Chi squared distribution: no value for degrees of freedom (df) given.");if(t<=0)return this.errorMessage("Chi squared distribution: degrees of freedom (df) must be larger than 0.");let e=.01,n=1,r={"0.00":0};for(;(t<=2&&n>=this.epsilon||t>2&&e<=t-2||t>2&&n>=this.epsilon)&&(n=this.chiSquaredProbabilityDensity(e,t),!(n<this.epsilon&&e>=t-2&&t>2));)r[e.toFixed(2)]=n,e+=.01;return r},n.prototype.chiSquaredCumulativeValue=function(t,e){return void 0===e?this.errorMessage("Chi squared cumulative distribution value: no value for degrees of freedom (df) given."):e<=0?this.errorMessage("Chi squared cumulative distribution value: degrees of freedom (df) must be larger than 0."):t<=0?0:this.regularisedGamma(.5*e,.5*t)},n.prototype.chiSquaredCumulativeDistribution=function(t){if(void 0===t)return this.errorMessage("Chi squared cumulative distribution: no value for degrees of freedom (df) given.");if(t<=0)return this.errorMessage("Chi squared cumulative distribution: degrees of freedom (df) must be larger than 0.");let e=.01,n=0,r={"0.00":0};for(;n<=1-this.epsilon&&(n=this.chiSquaredCumulativeValue(e,t),!(n>=1-this.epsilon));)n>0&&(r[e.toFixed(2)]=n),e+=.01;return r},n.prototype.barnardsTest=function(t,e){if(void 0===e)return this.errorMessage("Barnard's test: No data was supplied.");let n=this.contingencyTable(t,e,"Barnard's test");if(void 0===n)return;let{a:r,b:i,c:o,d:a}=n,s=r+i+o+a;if(s>this.maxBarnardsN)return this.errorMessage("Barnard's test is a resource-intensive method, relative to the total number of datasets to analyze. There are "+s+" datasets in the supplied data, exceeding the maxinum of "+this.maxBarnardsN+'. You can change this number by changing the "maxBarnardsN" option (be cautious).');var u=(r+i)/s;u=u*(1-u)*(1/(r+o)+1/(i+a)),u=(i/(i+a)-r/(r+o))/Math.sqrt(u),isNaN(u)&&(u=0);let l=[];for(var c=0;c<1;c=this.sumExact([c,.001])){let t=0;for(var h=0;h<=r+o;h++)for(var f=0;f<=i+a;f++){let e=(h+f)/s;if(e=e*(1-e)*(1/(r+o)+1/(i+a)),e=(h/(r+o)-f/(i+a))/Math.sqrt(e),!isNaN(e)&&Math.abs(e)>=Math.abs(u)){let e=this.binomialCoefficient(r+o,h)*this.binomialCoefficient(i+a,f);e*=Math.pow(c,h+f)*Math.pow(1-c,s-h-f),t+=isNaN(e)?0:e}}l.push({nuisance:c,significance:t})}return l=this.sortDataByColumn("significance",{data:l,order:"desc"}),{wald:u,nuisance:l[0].nuisance,pOneTailed:.5*l[0].significance,pTwoTailed:l[0].significance}},n.prototype.binomialTest=function(t,e,n=.5){if(void 0===e)return this.errorMessage("Binomial test requires the data to test and a value which is hypotethised to be observed with a probability of alpha.");if(n<0||n>1)return this.errorMessage("Binomial test is only defined for probabilities alpha with alpha ≥ 0 and alpha ≦ 1.");let r=this.getScale(t);if("interval"===r||"metric"===r)return this.errorMessage("Binomial test is only defined for data of nominal or ordinal dichotomic scale.");let i=this.validateInput(t,"nominal","binomial test");if(!1===i)return;let o=this.getUniqueValues(i.data);if(o.length>2)return this.errorMessage("Binomial test is only defined for dichotomic data. The supplied data has "+o.length+" unique values.");if(2===o.length&&o.indexOf(e)<0)return this.errorMessage('The value "'+e+'" was not found in the supplied data.');let a=i.data.filter((function(t){return t===e})).length,s=this.binomialProbabilityMass(a,i.length,n),u=this.binomialCumulativeValue(a-1,i.length,n),l=1-u-s;return{pExactly:s,pFewer:u,pAtMost:u+s,pMore:l,pAtLeast:l+s}},n.prototype.signTest=function(t,e){if(void 0===e)return this.errorMessage("Sign test: No data was supplied.");let n=this.validateInput(t,"ordinal","sign test"),r=this.validateInput(e,"ordinal","sign test");if(!1===n||!1===r)return;if(0===n.length||0===r.length)return;let i=this.reduceToPairs(n.data,r.data),o=(i.missings,i.length),a=i.valuesFirst,s=i.valuesSecond,u=0;for(var l=0;l<o;l++)a[l]>s[l]&&(u+=1);let c=this.binomialProbabilityMass(u,o),h=this.binomialCumulativeValue(u-1,o),f=1-h-c;return{positives:u,pExactly:c,pFewer:h,pAtMost:h+c,pMore:f,pAtLeast:f+c}},n.prototype.fishersExactTest=function(t,e){if(void 0===e)return this.errorMessage("Fisher's exact test requires two columns to analyze.");let n=this.contingencyTable(t,e,"Fisher's exact test");if(void 0===n)return;let{a:r,b:i,c:o,d:a}=n;return this.binomialCoefficient(r+i,r)*this.binomialCoefficient(o+a,o)/this.binomialCoefficient(r+i+o+a,r+o)},n.prototype.mannWhitneyU=function(t,e){if(void 0===e)return this.errorMessage("Mann-Whitney-U test requires two columns to analyze.");let n=this.validateInput(t,"nominal","Mann-Whitney-U test"),r=this.validateInput(e,"ordinal","Mann-Whitney-U test");if(!1===n||!1===r)return;if(0===n.length||0===r.length)return;this.sort(r.data);let i=this.getUniqueValues(n.data);if(2!==i.length)return this.errorMessage('The Mann-Whitney-U test requires the independent variable to have exactly two unique values. Variable "'+independentValue+'" has '+i.length+" different values: "+n.data.join(", "));let o=this.assignRanks(e),a=o.reduce(((n,r)=>r[t]===i[0]?n+r["rank-"+e]:n),0),s=o.reduce(((e,n)=>n[t]===i[0]?e+1:e),0),u=o.reduce(((n,r)=>r[t]===i[1]?n+r["rank-"+e]:n),0),l=o.reduce(((e,n)=>n[t]===i[1]?e+1:e),0),c=s*(.5*s+l+.5)-a,h=l*(.5*l+s+.5)-u,f=Math.min(c,h),d=(f-.5*s*l)/Math.sqrt(s*l*(s+l+1)/12),p=1-this.normalCumulativeValue(Math.abs(d));return{MannWhitneyU:f,zScore:d,pOneTailed:p,pTwoTailed:2*p}},n.prototype.chiSquaredTest=function(t,e){if(void 0===e)return this.errorMessage("Chi Squared Test: You need to specify two variables, either of nominal or ordinal scale.");let n=this.getScale(t),r=this.getScale(e);if("ordinal"!==n&&"nominal"!==n||"ordinal"!==r&&"nominal"!==r)return this.errorMessage("Chi Squared Test: Both variables need to be either of nominal or ordinal scale.");let i=this.contingencyTable(t,e);if(void 0===i)return this.errorMessage("Chi Squared Test: Failed to create a contingency table. Please make sure your data is prepared correctly.");i=i.detailled;let o,a=i.total.total,s=0,u=Object.keys(i).length-1;for(var l in u=(u-1)*(Object.keys(i.total).length-u-2),i)if(this.has(i,l)&&"total"!==l){let t=i[l].total;for(var c in i[l])if(this.has(i[l],c)&&"total"!==c){let e=t*i.total[c]/a;s+=Math.pow(i[l][c]-e,2)/e}}return o=s<0||u<1?0:1-this.chiSquaredCumulativeValue(s,u),{PearsonChiSquared:s,degreesOfFreedom:u,significance:o}},n.prototype.studentsTTestOneSample=function(t,e){if(void 0===e||!this.isNumeric(e))return this.errorMessage("Student's t-test (one sample) requires data and the mean for which the null hypothesis should hold true.");let n=this.validateInput(t,"interval","student's t-test (one sample)");if(!1===n)return;if(0===n.length)return;let r=this.mean(n.data),i=this.standardDeviation(n.data),o=Math.sqrt(n.length)*(r-e)/i,a=n.length-1,s=this.studentsTCumulativeValue(Math.abs(o),a);return s>.5&&(s=1-s),{tStatistic:o,degreesOfFreedom:a,pOneSided:s,pTwoSided:2*s}},n.prototype.studentsTTestTwoSamples=function(t,e,{nullHypothesisDifference:n=0,dependent:r=!1}={}){if(void 0===e)return this.errorMessage("Student's t-test (two sample) requires data for two columns and the difference of their means for which the null hypothesis should hold true.");let i=this.validateInput(t,"interval","student's t-test (two sample)"),o=this.validateInput(e,"interval","student's t-test (two sample)");if(!1===i||!1===o)return;let a,s,u=i.length,l=o.length,c={};if(0===u||0===l)return;if(r){let t=this.reduceToPairs(i.data,o.data),e=t.valuesFirst,r=t.valuesSecond,l=0,f=0;for(var h=0;h<t.length;h++)f+=e[h]-r[h];for(f/=t.length,h=0;h<t.length;h++)l+=Math.pow(e[h]-r[h]-f,2);l=Math.sqrt(l/(t.length-1)),a=Math.sqrt(u)*(f-n)/l,s=t.length-1,c={tStatistic:a,degreesOfFreedom:s,missings:t.missings}}else{let t=this.mean(i.data),e=this.mean(o.data),r=this.variance(i.data),h=this.variance(o.data);a=(t-e-n)/Math.sqrt(((u-1)*r+(l-1)*h)/(u+l-2)),a*=Math.sqrt(u*l/(u+l)),s=u+l-2,c={tStatistic:a,degreesOfFreedom:s}}let f=this.studentsTCumulativeValue(a,s);return f>.5&&(f=1-f),c.pOneSided=f,c.pTwoSided=2*f,c},n.prototype.gaussianError=function(t){if(void 0===t||!this.isNumeric(t))return this.errorMessage("Gaussian Error Function: No valid value for x supplied. X needs to be numeric.");let e=1/(1+.5*Math.abs(t)),n=-t*t-1.26551223+1.00002368*e+.37409196*e*e+.09678418*Math.pow(e,3)-.18628806*Math.pow(e,4)+.27886807*Math.pow(e,5)-1.13520398*Math.pow(e,6)+1.48851587*Math.pow(e,7)-.82215223*Math.pow(e,8)+.17087277*Math.pow(e,9);return n=Math.exp(n)*e,t>=0?1-n:n-1},n.prototype.inverseGaussianError=function(t){if(void 0===t||!this.isNumeric(t))return this.errorMessage("Inverse Gaussian Error Function: No valid value for x supplied. X needs to be numeric.");if(t>1)return this.errorMessage("Inverse Gaussian Error Function: x can not be larger than 1.");if(t<-1)return this.errorMessage("Inverse Gaussian Error Function: x can not be smaller than -1.");var e,n=-Math.log((1-t)*(1+t));return n<5?(n-=2.5,e=Number(3.43273939e-7)+Number(2.81022636e-8)*n,e=Number(-35233877e-13)+e*n,e=1.50140941+(e=.246640727+(e=(e=(e=.00021858087+(e=Number(-439150654e-14)+e*n)*n)*n-.00125372503)*n-.00417768164)*n)*n):e=2.83297682+(e=1.00167406+(e=.00943887047+(e=(e=.00573950773+(e=(e=.00134934322+(e=.000100950558-.000200214257*(n=Math.sqrt(n)-3))*n)*n-.00367342844)*n)*n-.0076224613)*n)*n)*n,(e*t).toFixed(7)},n.prototype.probit=function(t){return void 0!==t&&this.isNumeric(t)?t<0||t>1?this.errorMessage("Probit is only defined for quantiles p with 1 ≥ p ≥ 0."):0===t?-1/0:1===t?1/0:Math.sqrt(2)*this.inverseGaussianError(2*t-1):this.errorMessage("Probit: No valid value for quantile supplied. quantile needs to be numeric.")},n.prototype.fisherYatesShuffle=function(t,e=Math.random){if(void 0===t)return this.errorMessage("Fisher-Yates shuffle: No data given.");let n=this.validateInput(t,"nominal","");if(!1===n)return;let r,i,o=n.data,a=n.length;for(;a;)i=Math.floor(e()*a--),r=o[a],o[a]=o[i],o[i]=r;return o},n.prototype.xorshift=function(t,e=0){if(void 0===t||t.constructor!==Array||4!==t.length)return this.errorMessage("Xorshift needs to be seeded with an array consisting of four numbers.");if(!Number.isInteger(e)||e<0)return this.errorMessage("Xorshift: startIndex must be a non-negative integer.");let n=0,r=4,i=new Uint32Array(64);i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3];const o=function(t,e,n){for(var r=e;r<n;r++){let e=(t[0]^t[0]<<11)>>>0;t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=((t[3]^t[3]>>>19)>>>0^(e^e>>>8)>>>0)>>>0,t[r]=t[3]}return t};this.next=function(t=!0){let e=i[r];return n+=1,r++>=64&&(r=4,o(i,4,64)),t?e/4294967296:e},i=o(i,4,64);for(var a=0,s=e;a<s;a++)this.next()},n.prototype.boxMuller=function(t=0,e=1,{randomSourceA:n=Math.random,randomSourceB:r=Math.random}={}){let i=0,o=0,a=0,s=0;do{i=n(),a+=1}while((i<=0||i>=1)&&a<50);do{o=r(),s+=1}while((o<=0||o>=1)&&s<50);for(;i<=0||i>=1;)i=Math.random();for(;o<=0||o>=1;)o=Math.random();return Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*o)*e+t},n.prototype.ziggurat=function(t=0,e=1){let n=123456789,r=[128],i=[128],o=[128];const a=function(){let t=n,e=n;return e^=e<<13,e^=e>>>17,e^=e<<5,n=e,t+e|0},s=function(){return.5*(1+a()/-Math.pow(2,31))};!function(){n^=(new Date).getTime();let t=2147483648,e=3.442619855899,a=e,s=.00991256303526217,u=s/Math.exp(-.5*e*e);o[0]=Math.floor(e*t/u),o[1]=0,r[0]=u/t,r[127]=e/t,i[0]=1,i[127]=Math.exp(-.5*e*e);for(var l=126;l>=1;l--)e=Math.sqrt(-2*Math.log(s/e+Math.exp(-.5*e*e))),o[l+1]=Math.floor(e*t/a),a=e,i[l]=Math.exp(-.5*e*e),r[l]=e/t}(),this.next=function(){let n=a(),u=127&n,l=Math.abs(n)<o[u]?n*r[u]:function(t,e){let n,u,l=3.442619855899,c=1/l;for(;;){if(n=t*r[e],0===e){for(n=-Math.log(s())*c,u=-Math.log(s());u+u<n*n;)n=-Math.log(s())*c,u=-Math.log(s());return t>0?l+n:-l-n}if(i[e]+s()*(i[e-1]-i[e])<Math.exp(-.5*n*n))return n;if(e=127&(t=a()),Math.abs(t)<o[e])return t*r[e]}}(n,u);return l*e+t}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}!function(){function t(t,e){return function(){return t.apply(e,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:r}=Object,i=(o=Object.create(null),t=>{const n=e.call(t);return o[n]||(o[n]=n.slice(8,-1).toLowerCase())});var o;const a=t=>(t=t.toLowerCase(),e=>i(e)===t),s=t=>e=>typeof e===t,{isArray:u}=Array,l=s("undefined"),c=a("ArrayBuffer"),h=s("string"),f=s("function"),d=s("number"),p=t=>null!==t&&"object"==typeof t,g=t=>{if("object"!==i(t))return!1;const e=r(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},m=a("Date"),v=a("File"),y=a("Blob"),b=a("FileList"),w=a("URLSearchParams");function M(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,i;if("object"!=typeof t&&(t=[t]),u(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function _(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,T=t=>!l(t)&&t!==x,S=(N="undefined"!=typeof Uint8Array&&r(Uint8Array),t=>N&&t instanceof N);var N;const C=a("HTMLFormElement"),A=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),E=a("RegExp"),k=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};M(n,((n,i)=>{let o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},D="abcdefghijklmnopqrstuvwxyz",O="0123456789",U={DIGIT:O,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+O},R=a("AsyncFunction");var q={isArray:u,isArrayBuffer:c,isBuffer:function(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||f(t.append)&&("formdata"===(e=i(t))||"object"===e&&f(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&c(t.buffer),e},isString:h,isNumber:d,isBoolean:t=>!0===t||!1===t,isObject:p,isPlainObject:g,isUndefined:l,isDate:m,isFile:v,isBlob:y,isRegExp:E,isFunction:f,isStream:t=>p(t)&&f(t.pipe),isURLSearchParams:w,isTypedArray:S,isFileList:b,forEach:M,merge:function t(){const{caseless:e}=T(this)&&this||{},n={},r=(r,i)=>{const o=e&&_(n,i)||i;g(n[o])&&g(r)?n[o]=t(n[o],r):g(r)?n[o]=t({},r):u(r)?n[o]=r.slice():n[o]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&M(arguments[t],r);return n},extend:(e,n,r,{allOwnKeys:i}={})=>(M(n,((n,i)=>{r&&f(n)?e[i]=t(n,r):e[i]=n}),{allOwnKeys:i}),e),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let o,a,s;const u={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)s=o[a],i&&!i(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==n&&r(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:i,kindOfTest:a,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(u(t))return t;let e=t.length;if(!d(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:C,hasOwnProperty:A,hasOwnProp:A,reduceDescriptors:k,freezeMethods:t=>{k(t,((e,n)=>{if(f(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];f(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return u(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:_,global:x,isContextDefined:T,ALPHABET:U,generateString:(t=16,e=U.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&f(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(p(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=u(t)?[]:{};return M(t,((t,e)=>{const o=n(t,r+1);!l(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:R,isThenable:t=>t&&(p(t)||f(t))&&f(t.then)&&f(t.catch)};function F(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}q.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const I=F.prototype,P={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{P[t]={value:t}})),Object.defineProperties(F,P),Object.defineProperty(I,"isAxiosError",{value:!0}),F.from=(t,e,n,r,i,o)=>{const a=Object.create(I);return q.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),F.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var j=F;function L(t){return q.isPlainObject(t)||q.isArray(t)}function $(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function B(t,e,n){return t?t.concat(e).map((function(t,e){return t=$(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const V=q.toFlatObject(q,{},null,(function(t){return/^is[A-Z]/.test(t)}));var H=function(t,e,n){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!q.isUndefined(e[t])}))).metaTokens,i=n.visitor||l,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(q.isDate(t))return t.toISOString();if(!s&&q.isBlob(t))throw new j("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(t)||q.isTypedArray(t)?s&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function l(t,n,i){let s=t;if(t&&!i&&"object"==typeof t)if(q.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(q.isArray(t)&&function(t){return q.isArray(t)&&!t.some(L)}(t)||(q.isFileList(t)||q.endsWith(n,"[]"))&&(s=q.toArray(t)))return n=$(n),s.forEach((function(t,r){!q.isUndefined(t)&&null!==t&&e.append(!0===a?B([n],r,o):null===a?n:n+"[]",u(t))})),!1;return!!L(t)||(e.append(B(i,n,o),u(t)),!1)}const c=[],h=Object.assign(V,{defaultVisitor:l,convertValue:u,isVisitable:L});if(!q.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!q.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),q.forEach(n,(function(n,o){!0===(!(q.isUndefined(n)||null===n)&&i.call(e,n,q.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),c.pop()}}(t),e};function z(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Y(t,e){this._pairs=[],t&&H(t,this,e)}const G=Y.prototype;G.append=function(t,e){this._pairs.push([t,e])},G.toString=function(t){const e=t?function(e){return t.call(this,e,z)}:z;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var X=Y;function W(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function J(t,e,n){if(!e)return t;const r=n&&n.encode||W,i=n&&n.serialize;let o;if(o=i?i(e,n):q.isURLSearchParams(e)?e.toString():new X(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}var K=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Z={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:X,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},tt=function(t){function e(t,n,r,i){let o=t[i++];const a=Number.isFinite(+o),s=i>=t.length;return o=!o&&q.isArray(r)?r.length:o,s?(q.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&q.isObject(r[o])||(r[o]=[]),e(t,n,r[o],i)&&q.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!a)}if(q.isFormData(t)&&q.isFunction(t.entries)){const n={};return q.forEachEntry(t,((t,r)=>{e(function(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const et={transitional:Z,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=q.isObject(t);if(i&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return r&&r?JSON.stringify(tt(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return H(t,new Q.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return Q.isNode&&q.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return H(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(q.isString(t))try{return(0,JSON.parse)(t),q.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||et.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&q.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw j.from(t,j.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Q.classes.FormData,Blob:Q.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],(t=>{et.headers[t]={}}));var nt=et;const rt=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),it=Symbol("internals");function ot(t){return t&&String(t).trim().toLowerCase()}function at(t){return!1===t||null==t?t:q.isArray(t)?t.map(at):String(t)}function st(t,e,n,r,i){return q.isFunction(r)?r.call(this,e,n):(i&&(e=n),q.isString(e)?q.isString(r)?-1!==e.indexOf(r):q.isRegExp(r)?r.test(e):void 0:void 0)}class ut{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=ot(e);if(!i)throw new Error("header name must be a non-empty string");const o=q.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=at(t))}const o=(t,e)=>q.forEach(t,((t,n)=>i(t,n,e)));return q.isPlainObject(t)||t instanceof this.constructor?o(t,e):q.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&rt[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&i(e,t,n),this}get(t,e){if(t=ot(t)){const n=q.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(q.isFunction(e))return e.call(this,t,n);if(q.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ot(t)){const n=q.findKey(this,t);return!(!n||void 0===this[n]||e&&!st(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=ot(t)){const i=q.findKey(n,t);!i||e&&!st(0,n[i],i,e)||(delete n[i],r=!0)}}return q.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!st(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return q.forEach(this,((r,i)=>{const o=q.findKey(n,i);if(o)return e[o]=at(r),void delete e[i];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete e[i],e[a]=at(r),n[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return q.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&q.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[it]=this[it]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=ot(t);e[r]||(function(t,e){const n=q.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return q.isArray(t)?t.forEach(r):r(t),this}}ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(ut.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),q.freezeMethods(ut);var lt=ut;function ct(t,e){const n=this||nt,r=e||n,i=lt.from(r.headers);let o=r.data;return q.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function ht(t){return!(!t||!t.__CANCEL__)}function ft(t,e,n){j.call(this,null==t?"canceled":t,j.ERR_CANCELED,e,n),this.name="CanceledError"}q.inherits(ft,j,{__CANCEL__:!0});var dt=ft,pt=Q.isStandardBrowserEnv?{write:function(t,e,n,r,i,o){const a=[];a.push(t+"="+encodeURIComponent(e)),q.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),q.isString(r)&&a.push("path="+r),q.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function gt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var mt=Q.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=q.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function vt(t,e){let n=0;const r=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,a=0;return e=void 0!==e?e:1e3,function(s){const u=Date.now(),l=r[a];i||(i=u),n[o]=s,r[o]=u;let c=a,h=0;for(;c!==o;)h+=n[c++],c%=t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),u-i<e)return;const f=l&&u-l;return f?Math.round(1e3*h/f):void 0}}(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,u=r(s);n=o;const l={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}var yt="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const i=lt.from(t.headers).normalize(),o=t.responseType;let a,s;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}q.isFormData(r)&&(Q.isStandardBrowserEnv||Q.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?q.isString(s=i.getContentType())&&i.setContentType(s.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+n))}const c=gt(t.baseURL,t.url);function h(){if(!l)return;const r=lt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:o&&"text"!==o&&"json"!==o?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),J(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(h)},l.onabort=function(){l&&(n(new j("Request aborted",j.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new j("Network Error",j.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||Z;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new j(e,r.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,t,l)),l=null},Q.isStandardBrowserEnv){const e=(t.withCredentials||mt(c))&&t.xsrfCookieName&&pt.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&q.forEach(i.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),q.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&"json"!==o&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",vt(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",vt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=e=>{l&&(n(!e||e.type?new dt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(c);f&&-1===Q.protocols.indexOf(f)?n(new j("Unsupported protocol "+f+":",j.ERR_BAD_REQUEST,t)):l.send(r||null)}))};const bt={http:null,xhr:yt};q.forEach(bt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const wt=t=>`- ${t}`,Mt=t=>q.isFunction(t)||null===t||!1===t;var _t=t=>{t=q.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){let e;if(n=t[o],r=n,!Mt(n)&&(r=bt[(e=String(n)).toLowerCase()],void 0===r))throw new j(`Unknown adapter '${e}'`);if(r)break;i[e||"#"+o]=r}if(!r){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let n=e?t.length>1?"since :\n"+t.map(wt).join("\n"):" "+wt(t[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dt(null,t)}function Tt(t){return xt(t),t.headers=lt.from(t.headers),t.data=ct.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_t(t.adapter||nt.adapter)(t).then((function(e){return xt(t),e.data=ct.call(t,t.transformResponse,e),e.headers=lt.from(e.headers),e}),(function(e){return ht(e)||(xt(t),e&&e.response&&(e.response.data=ct.call(t,t.transformResponse,e.response),e.response.headers=lt.from(e.response.headers))),Promise.reject(e)}))}const St=t=>t instanceof lt?t.toJSON():t;function Nt(t,e){e=e||{};const n={};function r(t,e,n){return q.isPlainObject(t)&&q.isPlainObject(e)?q.merge.call({caseless:n},t,e):q.isPlainObject(e)?q.merge({},e):q.isArray(e)?e.slice():e}function i(t,e,n){return q.isUndefined(e)?q.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!q.isUndefined(e))return r(void 0,e)}function a(t,e){return q.isUndefined(e)?q.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>i(St(t),St(e),!0)};return q.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=u[r]||i,a=o(t[r],e[r],r);q.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Ct={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ct[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const At={};Ct.transitional=function(t,e,n){function r(t,e){return"[Axios v1.5.1] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new j(r(i," has been removed"+(e?" in "+e:"")),j.ERR_DEPRECATED);return e&&!At[i]&&(At[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var Et={assertOptions:function(t,e,n){if("object"!=typeof t)throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const e=t[o],n=void 0===e||a(e,o,t);if(!0!==n)throw new j("option "+o+" must be "+n,j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new j("Unknown option "+o,j.ERR_BAD_OPTION)}},validators:Ct};const kt=Et.validators;class Dt{constructor(t){this.defaults=t,this.interceptors={request:new K,response:new K}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Nt(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&Et.assertOptions(n,{silentJSONParsing:kt.transitional(kt.boolean),forcedJSONParsing:kt.transitional(kt.boolean),clarifyTimeoutError:kt.transitional(kt.boolean)},!1),null!=r&&(q.isFunction(r)?e.paramsSerializer={serialize:r}:Et.assertOptions(r,{encode:kt.function,serialize:kt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&q.merge(i.common,i[e.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=lt.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const u=[];let l;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let c,h=0;if(!s){const t=[Tt.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,u),c=t.length,l=Promise.resolve(e);h<c;)l=l.then(t[h++],t[h++]);return l}c=a.length;let f=e;for(h=0;h<c;){const t=a[h++],e=a[h++];try{f=t(f)}catch(t){e.call(this,t);break}}try{l=Tt.call(this,f)}catch(t){return Promise.reject(t)}for(h=0,c=u.length;h<c;)l=l.then(u[h++],u[h++]);return l}getUri(t){return J(gt((t=Nt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}q.forEach(["delete","get","head","options"],(function(t){Dt.prototype[t]=function(e,n){return this.request(Nt(n||{},{method:t,url:e,data:(n||{}).data}))}})),q.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(Nt(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Dt.prototype[t]=e(),Dt.prototype[t+"Form"]=e(!0)}));var Ot=Dt;class Ut{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new dt(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Ut((function(e){t=e})),cancel:t}}}var Rt=Ut;const qt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qt).forEach((([t,e])=>{qt[e]=t}));var Ft=qt;const It=function e(n){const r=new Ot(n),i=t(Ot.prototype.request,r);return q.extend(i,Ot.prototype,r,{allOwnKeys:!0}),q.extend(i,r,null,{allOwnKeys:!0}),i.create=function(t){return e(Nt(n,t))},i}(nt);It.Axios=Ot,It.CanceledError=dt,It.CancelToken=Rt,It.isCancel=ht,It.VERSION="1.5.1",It.toFormData=H,It.AxiosError=j,It.Cancel=It.CanceledError,It.all=function(t){return Promise.all(t)},It.spread=function(t){return function(e){return t.apply(null,e)}},It.isAxiosError=function(t){return q.isObject(t)&&!0===t.isAxiosError},It.mergeConfig=Nt,It.AxiosHeaders=lt,It.formToJSON=t=>tt(q.isHTMLForm(t)?new FormData(t):t),It.getAdapter=_t,It.HttpStatusCode=Ft,It.default=It;var Pt=It,jt=class{constructor(t){this.ticker=t,this.apiUrl=`https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY&symbol=${t}&apikey=SJRHLXJ8LB105D3F`,this.storedData=null}async getData(){try{let t=await Pt.get(this.apiUrl);return this.storedData=t.data,this.storedData}catch(t){console.error("Error fetching data:",t)}}async getPrices(){if(this.storedData=await this.getData(),!this.storedData)return;let t=[];for(let e in this.storedData["Monthly Time Series"])t.push(parseFloat(this.storedData["Monthly Time Series"][e]["4. close"]));return t}};function Lt(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function $t(t){return t}var Bt=1e-6;function Vt(t){return"translate("+t+",0)"}function Ht(t){return"translate(0,"+t+")"}function zt(t){return e=>+t(e)}function Yt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Gt(){return!this.__axis}function Xt(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",h=1===t||3===t?Vt:Ht;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):$t:i,g=Math.max(o,0)+s,m=e.range(),v=+m[0]+u,y=+m[m.length-1]+u,b=(e.bandwidth?Yt:zt)(e.copy(),u),w=f.selection?f.selection():f,M=w.selectAll(".domain").data([null]),_=w.selectAll(".tick").data(d,e).order(),x=_.exit(),T=_.enter().append("g").attr("class","tick"),S=_.select("line"),N=_.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(T),S=S.merge(T.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),N=N.merge(T.append("text").attr("fill","currentColor").attr(c,l*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==w&&(M=M.transition(f),_=_.transition(f),S=S.transition(f),N=N.transition(f),x=x.transition(f).attr("opacity",Bt).attr("transform",(function(t){return isFinite(t=b(t))?h(t+u):this.getAttribute("transform")})),T.attr("opacity",Bt).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:b(t))+u)}))),x.remove(),M.attr("d",4===t||2===t?a?"M"+l*a+","+v+"H"+u+"V"+y+"H"+l*a:"M"+u+","+v+"V"+y:a?"M"+v+","+l*a+"V"+u+"H"+y+"V"+l*a:"M"+v+","+u+"H"+y),_.attr("opacity",1).attr("transform",(function(t){return h(b(t)+u)})),S.attr(c+"2",l*o),N.attr(c,l*g).text(p),w.filter(Gt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=b}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f.offset=function(t){return arguments.length?(u=+t,f):u},f}function Wt(){}function Jt(t){return null==t?Wt:function(){return this.querySelector(t)}}function Kt(){return[]}function Zt(t){return null==t?Kt:function(){return this.querySelectorAll(t)}}function Qt(t){return function(){return this.matches(t)}}function te(t){return function(e){return e.matches(t)}}var ee=Array.prototype.find;function ne(){return this.firstElementChild}var re=Array.prototype.filter;function ie(){return Array.from(this.children)}function oe(t){return new Array(t.length)}function ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function se(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ae(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function ue(t,e,n,r,i,o,a){var s,u,l,c=new Map,h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new ae(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function le(t){return t.__data__}function ce(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function he(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ae.prototype={constructor:ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var fe="http://www.w3.org/1999/xhtml",de={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pe(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),de.hasOwnProperty(e)?{space:de[e],local:t}:t}function ge(t){return function(){this.removeAttribute(t)}}function me(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ve(t,e){return function(){this.setAttribute(t,e)}}function ye(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function be(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function we(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Me(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _e(t){return function(){this.style.removeProperty(t)}}function xe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Te(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Se(t,e){return t.style.getPropertyValue(e)||Me(t).getComputedStyle(t,null).getPropertyValue(e)}function Ne(t){return function(){delete this[t]}}function Ce(t,e){return function(){this[t]=e}}function Ae(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ee(t){return t.trim().split(/^|\s+/)}function ke(t){return t.classList||new De(t)}function De(t){this._node=t,this._names=Ee(t.getAttribute("class")||"")}function Oe(t,e){for(var n=ke(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ue(t,e){for(var n=ke(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Re(t){return function(){Oe(this,t)}}function qe(t){return function(){Ue(this,t)}}function Fe(t,e){return function(){(e.apply(this,arguments)?Oe:Ue)(this,t)}}function Ie(){this.textContent=""}function Pe(t){return function(){this.textContent=t}}function je(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Le(){this.innerHTML=""}function $e(t){return function(){this.innerHTML=t}}function Be(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ve(){this.nextSibling&&this.parentNode.appendChild(this)}function He(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ze(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===fe&&e.documentElement.namespaceURI===fe?e.createElement(t):e.createElementNS(n,t)}}function Ye(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ge(t){var e=pe(t);return(e.local?Ye:ze)(e)}function Xe(){return null}function We(){var t=this.parentNode;t&&t.removeChild(this)}function Je(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ke(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ze(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Qe(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function tn(t,e,n){var r=Me(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function en(t,e){return function(){return tn(this,t,e)}}function nn(t,e){return function(){return tn(this,t,e.apply(this,arguments))}}De.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var rn=[null];function on(t,e){this._groups=t,this._parents=e}function an(){return new on([[document.documentElement]],rn)}on.prototype=an.prototype={constructor:on,select:function(t){"function"!=typeof t&&(t=Jt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new on(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):Zt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new on(r,i)},selectChild:function(t){return this.select(null==t?ne:function(t){return function(){return ee.call(this.children,t)}}("function"==typeof t?t:te(t)))},selectChildren:function(t){return this.selectAll(null==t?ie:function(t){return function(){return re.call(this.children,t)}}("function"==typeof t?t:te(t)))},filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new on(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,le);var n,r=e?ue:se,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p=ce(t.call(h,h&&h.__data__,c,i)),g=p.length,m=u[c]=new Array(g),v=s[c]=new Array(g);r(h,f,m,v,l[c]=new Array(d),p,e);for(var y,b,w=0,M=0;w<g;++w)if(y=m[w]){for(w>=M&&(M=w+1);!(b=v[M])&&++M<g;);y._next=b||null}}return(s=new on(s,i))._enter=u,s._exit=l,s},enter:function(){return new on(this._enter||this._groups.map(oe),this._parents)},exit:function(){return new on(this._exit||this._groups.map(oe),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],h=r[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new on(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=he);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new on(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=pe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?me:ge:"function"==typeof e?n.local?we:be:n.local?ye:ve)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?_e:"function"==typeof e?Te:xe)(t,e,null==n?"":n)):Se(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ne:"function"==typeof e?Ae:Ce)(t,e)):this.node()[t]},classed:function(t,e){var n=Ee(t+"");if(arguments.length<2){for(var r=ke(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Fe:e?Re:qe)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ie:("function"==typeof t?je:Pe)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Le:("function"==typeof t?Be:$e)(t)):this.node().innerHTML},raise:function(){return this.each(Ve)},lower:function(){return this.each(He)},append:function(t){var e="function"==typeof t?t:Ge(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ge(t),r=null==e?Xe:"function"==typeof e?e:Jt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(We)},clone:function(t){return this.select(t?Ke:Je)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Qe:Ze,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?nn:en)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var sn=an,un={value:()=>{}};function ln(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new cn(r)}function cn(t){this._=t}function hn(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function fn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=un,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}cn.prototype=ln.prototype={constructor:cn,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=fn(i[n],t.name,e);else if(null==e)for(n in i)i[n]=fn(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=hn(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var dn,pn,gn=ln,mn=0,vn=0,yn=0,bn=1e3,wn=0,Mn=0,_n=0,xn="object"==typeof performance&&performance.now?performance:Date,Tn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sn(){return Mn||(Tn(Nn),Mn=xn.now()+_n)}function Nn(){Mn=0}function Cn(){this._call=this._time=this._next=null}function An(t,e,n){var r=new Cn;return r.restart(t,e,n),r}function En(){Mn=(wn=xn.now())+_n,mn=vn=0;try{!function(){Sn(),++mn;for(var t,e=dn;e;)(t=Mn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mn}()}finally{mn=0,function(){for(var t,e,n=dn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:dn=e);pn=t,Dn(r)}(),Mn=0}}function kn(){var t=xn.now(),e=t-wn;e>bn&&(_n-=e,wn=t)}function Dn(t){mn||(vn&&(vn=clearTimeout(vn)),t-Mn>24?(t<1/0&&(vn=setTimeout(En,t-xn.now()-_n)),yn&&(yn=clearInterval(yn))):(yn||(wn=xn.now(),yn=setInterval(kn,bn)),mn=1,Tn(En)))}function On(t,e,n){var r=new Cn;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Cn.prototype=An.prototype={constructor:Cn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Sn():+n)+(null==e?0:+e),this._next||pn===this||(pn?pn._next=this:dn=this,pn=this),this._call=t,this._time=n,Dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dn())}};var Un=gn("start","end","cancel","interrupt"),Rn=[],qn=0,Fn=3;function In(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,h,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(f.state===Fn)return On(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(On((function(){n.state===Fn&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=Fn,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=An((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Un,tween:Rn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qn})}function Pn(t,e){var n=Ln(t,e);if(n.state>qn)throw new Error("too late; already scheduled");return n}function jn(t,e){var n=Ln(t,e);if(n.state>Fn)throw new Error("too late; already running");return n}function Ln(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $n(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Bn,Vn=180/Math.PI,Hn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zn(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Vn,skewX:Math.atan(u)*Vn,scaleX:a,scaleY:s}}function Yn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:$n(t,i)},{i:u-2,x:$n(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:$n(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:$n(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:$n(t,n)},{i:s-2,x:$n(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Gn=Yn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Hn:zn(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Xn=Yn((function(t){return null==t?Hn:(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",t),(t=Bn.transform.baseVal.consolidate())?zn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Hn)}),", ",")",")");function Wn(t,e){var n,r;return function(){var i=jn(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Jn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=jn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Kn(t,e,n){var r=t._id;return t.each((function(){var t=jn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ln(t,r).value[e]}}function Zn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tr(){}var er=.7,nr=1/er,rr="\\s*([+-]?\\d+)\\s*",ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ar=/^#([0-9a-f]{3,8})$/,sr=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),ur=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),lr=new RegExp(`^rgba\\(${rr},${rr},${rr},${ir}\\)$`),cr=new RegExp(`^rgba\\(${or},${or},${or},${ir}\\)$`),hr=new RegExp(`^hsl\\(${ir},${or},${or}\\)$`),fr=new RegExp(`^hsla\\(${ir},${or},${or},${ir}\\)$`),dr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pr(){return this.rgb().formatHex()}function gr(){return this.rgb().formatRgb()}function mr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ar.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?vr(e):3===n?new wr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?yr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?yr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=sr.exec(t))?new wr(e[1],e[2],e[3],1):(e=ur.exec(t))?new wr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=lr.exec(t))?yr(e[1],e[2],e[3],e[4]):(e=cr.exec(t))?yr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=hr.exec(t))?Nr(e[1],e[2]/100,e[3]/100,1):(e=fr.exec(t))?Nr(e[1],e[2]/100,e[3]/100,e[4]):dr.hasOwnProperty(t)?vr(dr[t]):"transparent"===t?new wr(NaN,NaN,NaN,0):null}function vr(t){return new wr(t>>16&255,t>>8&255,255&t,1)}function yr(t,e,n,r){return r<=0&&(t=e=n=NaN),new wr(t,e,n,r)}function br(t,e,n,r){return 1===arguments.length?((i=t)instanceof tr||(i=mr(i)),i?new wr((i=i.rgb()).r,i.g,i.b,i.opacity):new wr):new wr(t,e,n,null==r?1:r);var i}function wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Mr(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}`}function _r(){const t=xr(this.opacity);return`${1===t?"rgb(":"rgba("}${Tr(this.r)}, ${Tr(this.g)}, ${Tr(this.b)}${1===t?")":`, ${t})`}`}function xr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sr(t){return((t=Tr(t))<16?"0":"")+t.toString(16)}function Nr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ar(t,e,n,r)}function Cr(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);if(t instanceof tr||(t=mr(t)),!t)return new Ar;if(t instanceof Ar)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ar(a,s,u,t.opacity)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Er(t){return(t=(t||0)%360)<0?t+360:t}function kr(t){return Math.max(0,Math.min(1,t||0))}function Dr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Or(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Zn(tr,mr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pr,formatHex:pr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Cr(this).formatHsl()},formatRgb:gr,toString:gr}),Zn(wr,br,Qn(tr,{brighter(t){return t=null==t?nr:Math.pow(nr,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?er:Math.pow(er,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr(Tr(this.r),Tr(this.g),Tr(this.b),xr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mr,formatHex:Mr,formatHex8:function(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}${Sr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:_r,toString:_r})),Zn(Ar,(function(t,e,n,r){return 1===arguments.length?Cr(t):new Ar(t,e,n,null==r?1:r)}),Qn(tr,{brighter(t){return t=null==t?nr:Math.pow(nr,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?er:Math.pow(er,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wr(Dr(t>=240?t-240:t+120,i,r),Dr(t,i,r),Dr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ar(Er(this.h),kr(this.s),kr(this.l),xr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xr(this.opacity);return`${1===t?"hsl(":"hsla("}${Er(this.h)}, ${100*kr(this.s)}%, ${100*kr(this.l)}%${1===t?")":`, ${t})`}`}}));var Ur=t=>()=>t;function Rr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Ur(isNaN(t)?e:t)}var qr=function t(e){var n=function(t){return 1==(t=+t)?Rr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ur(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=br(t)).r,(e=br(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Rr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Fr(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=br(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Fr((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Or((n-r/e)*e,a,i,o,s)}})),Fr((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Or((n-r/e)*e,i,o,a,s)}}));var Ir=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pr=new RegExp(Ir.source,"g");function jr(t,e){var n,r,i,o=Ir.lastIndex=Pr.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Ir.exec(t))&&(r=Pr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:$n(n,r)})),o=Pr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Lr(t,e){var n;return("number"==typeof e?$n:e instanceof mr?qr:(n=mr(e))?(e=n,qr):jr)(t,e)}function $r(t){return function(){this.removeAttribute(t)}}function Br(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Hr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function zr(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Yr(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Gr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Xr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Wr(t,e){return function(){Pn(this,t).delay=+e.apply(this,arguments)}}function Jr(t,e){return e=+e,function(){Pn(this,t).delay=e}}function Kr(t,e){return function(){jn(this,t).duration=+e.apply(this,arguments)}}function Zr(t,e){return e=+e,function(){jn(this,t).duration=e}}var Qr=sn.prototype.constructor;function ti(t){return function(){this.style.removeProperty(t)}}var ei=0;function ni(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ri(){return++ei}var ii=sn.prototype;ni.prototype=function(t){return sn().transition(t)}.prototype={constructor:ni,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Jt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,In(h[f],e,n,f,h,Ln(s,n)));return new ni(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Zt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Ln(u,n),g=0,m=d.length;g<m;++g)(f=d[g])&&In(f,e,n,g,d,p);o.push(d),a.push(u)}return new ni(o,a,e,n)},selectChild:ii.selectChild,selectChildren:ii.selectChildren,filter:function(t){"function"!=typeof t&&(t=Qt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ni(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new ni(a,this._parents,this._name,this._id)},selection:function(){return new Qr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ri(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Ln(a,e);In(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ni(r,this._parents,t,n)},call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:function(t,e){var n=this._id;return arguments.length<2?Ln(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Pn:jn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=pe(t),r="transform"===n?Xn:Lr;return this.attrTween(t,"function"==typeof e?(n.local?Yr:zr)(n,r,Kn(this,"attr."+t,e)):null==e?(n.local?Br:$r)(n):(n.local?Hr:Vr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=pe(t);return this.tween(n,(r.local?Gr:Xr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Gn:Lr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Se(this,t),a=(this.style.removeProperty(t),Se(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,ti(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Se(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Se(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Kn(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=jn(this,t),l=u.on,c=null==u.value[a]?o||(o=ti(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Se(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Kn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ln(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Wn:Jn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Wr:Jr)(e,t)):Ln(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Kr:Zr)(e,t)):Ln(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){jn(this,t).ease=e}}(e,t)):Ln(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;jn(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=jn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ii[Symbol.iterator]};var oi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ai(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}sn.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},sn.prototype.transition=function(t){var e,n;t instanceof ni?(e=t._id,t=t._name):(e=ri(),(n=oi).time=Sn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&In(a,t,e,l,s,n||ai(a,e));return new ni(r,this._parents,t,e)};const{abs:si,max:ui,min:li}=Math;function ci(t){return{type:t}}["w","e"].map(ci),["n","s"].map(ci),["n","w","e","s","nw","ne","sw","se"].map(ci);const hi=Math.sqrt(50),fi=Math.sqrt(10),di=Math.sqrt(2);function pi(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=hi?10:o>=fi?5:o>=di?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?pi(t,e,2*n):[s,u,l]}function gi(t,e,n){return pi(t=+t,e=+e,n=+n)[2]}function mi(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?gi(e,t,n):gi(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vi(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yi(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bi(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=vi,n=(e,n)=>vi(t(e),n),r=(e,n)=>t(e)-n):(e=t===vi||t===yi?t:wi,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function wi(){return 0}const Mi=bi(vi),_i=Mi.right;Mi.left,bi((function(t){return null===t?NaN:+t})).center;var xi=_i;function Ti(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ai(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Si(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ni(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ai(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function Ci(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Ai(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Ur(e):("number"===i?$n:"string"===i?(n=mr(e))?(e=n,qr):jr:e instanceof mr?qr:e instanceof Date?Si:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Ti:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ni:$n:Ci))(t,e)}function Ei(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ki(t){return+t}var Di=[0,1];function Oi(t){return t}function Ui(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Ri(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ui(i,r),o=n(a,o)):(r=Ui(r,i),o=n(o,a)),function(t){return o(r(t))}}function qi(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ui(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=xi(t,e,1,r)-1;return o[n](i[n](e))}}function Fi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ii(){return function(){var t,e,n,r,i,o,a=Di,s=Di,u=Ai,l=Oi;function c(){var t,e,n,u=Math.min(a.length,s.length);return l!==Oi&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?qi:Ri,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),$n)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ki),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=Ei,c()},h.clamp=function(t){return arguments.length?(l=!!t||Oi,c()):l!==Oi},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}()(Oi,Oi)}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var ji,Li=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $i(t){if(!(e=Li.exec(t)))throw new Error("invalid format: "+t);var e;return new Bi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Bi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Vi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hi(t){return(t=Vi(Math.abs(t)))?t[1]:NaN}function zi(t,e){var n=Vi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}$i.prototype=Bi.prototype,Bi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Yi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zi(100*t,e),r:zi,s:function(t,e){var n=Vi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ji=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Vi(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gi(t){return t}var Xi,Wi,Ji,Ki=Array.prototype.map,Zi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qi(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?pi(e,t,n):pi(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)u[t]=(o-t)/-a;else for(let t=0;t<s;++t)u[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)u[t]=(i+t)/-a;else for(let t=0;t<s;++t)u[t]=(i+t)*a;return u}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=mi(t,e,n);switch((r=$i(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hi(e)/3)))-Hi(Math.abs(t)))}(o,a))||(r.precision=i),Ji(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hi(e)-Hi(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Hi(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Wi(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=gi(u,l,n))===r)return o[a]=u,o[s]=l,e(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function to(){var t=Ii();return t.copy=function(){return Fi(t,to())},Pi.apply(t,arguments),Qi(t)}Xi=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Gi:(e=Ki.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Gi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ki.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=$i(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Yi[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===f?o:/[%p]/.test(y)?u:"",M=Yi[y],_=/[defgprs%]/.test(y);function x(t){var i,o,u,f=b,x=w;if("c"===y)x=M(t)+x,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:M(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),f=(T?"("===h?h:l:"-"===h||"("===h?"":h)+f,x=("s"===y?Zi[8+ji/3]:"")+x+(T&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){x=(46===u?a+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=f.length+t.length+x.length,N=S<p?new Array(p-S+1).join(e):"";switch(g&&d&&(t=r(N+t,N.length?p-x.length:1/0),N=""),n){case"<":t=f+t+x+N;break;case"=":t=f+N+t+x;break;case"^":t=N.slice(0,S=N.length>>1)+f+t+x+N.slice(S);break;default:t=N+f+t+x}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=$i(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Hi(e)/3))),i=Math.pow(10,-r),o=Zi[8+r/3];return function(t){return n(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),Wi=Xi.format,Ji=Xi.formatPrefix;const eo=1e3,no=6e4,ro=36e5,io=864e5,oo=6048e5,ao=31536e6,so=new Date,uo=new Date;function lo(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>lo((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(so.setTime(+e),uo.setTime(+r),t(so),t(uo),Math.floor(n(so,uo))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const co=lo((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));co.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?lo((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):co:null),co.range;const ho=lo((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*eo)}),((t,e)=>(e-t)/eo),(t=>t.getUTCSeconds())),fo=(ho.range,lo((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*eo)}),((t,e)=>{t.setTime(+t+e*no)}),((t,e)=>(e-t)/no),(t=>t.getMinutes()))),po=(fo.range,lo((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*no)}),((t,e)=>(e-t)/no),(t=>t.getUTCMinutes()))),go=(po.range,lo((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*eo-t.getMinutes()*no)}),((t,e)=>{t.setTime(+t+e*ro)}),((t,e)=>(e-t)/ro),(t=>t.getHours()))),mo=(go.range,lo((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*ro)}),((t,e)=>(e-t)/ro),(t=>t.getUTCHours()))),vo=(mo.range,lo((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*no)/io),(t=>t.getDate()-1))),yo=(vo.range,lo((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/io),(t=>t.getUTCDate()-1))),bo=(yo.range,lo((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/io),(t=>Math.floor(t/io))));function wo(t){return lo((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*no)/oo))}bo.range;const Mo=wo(0),_o=wo(1),xo=wo(2),To=wo(3),So=wo(4),No=wo(5),Co=wo(6);function Ao(t){return lo((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/oo))}Mo.range,_o.range,xo.range,To.range,So.range,No.range,Co.range;const Eo=Ao(0),ko=Ao(1),Do=Ao(2),Oo=Ao(3),Uo=Ao(4),Ro=Ao(5),qo=Ao(6),Fo=(Eo.range,ko.range,Do.range,Oo.range,Uo.range,Ro.range,qo.range,lo((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),Io=(Fo.range,lo((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),Po=(Io.range,lo((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));Po.every=t=>isFinite(t=Math.floor(t))&&t>0?lo((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,Po.range;const jo=lo((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Lo(t,e,n,r,i,o){const a=[[ho,1,eo],[ho,5,5e3],[ho,15,15e3],[ho,30,3e4],[o,1,no],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,ro],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,io],[r,2,1728e5],[n,1,oo],[e,1,2592e6],[e,3,7776e6],[t,1,ao]];function s(e,n,r){const i=Math.abs(n-e)/r,o=bi((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(mi(e/ao,n/ao,r));if(0===o)return co.every(Math.max(mi(e,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}jo.every=t=>isFinite(t=Math.floor(t))&&t>0?lo((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,jo.range;const[$o,Bo]=Lo(jo,Io,Eo,bo,mo,po),[Vo,Ho]=Lo(Po,Fo,Mo,vo,go,fo);function zo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Go(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Xo,Wo,Jo={"-":"",_:" ",0:"0"},Ko=/^\s*\d+/,Zo=/^%/,Qo=/[\\^$*+?|[\]().{}]/g;function ta(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ea(t){return t.replace(Qo,"\\$&")}function na(t){return new RegExp("^(?:"+t.map(ea).join("|")+")","i")}function ra(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ia(t,e,n){var r=Ko.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oa(t,e,n){var r=Ko.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function aa(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function sa(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ua(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function la(t,e,n){var r=Ko.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ca(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ha(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fa(t,e,n){var r=Ko.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function da(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pa(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ga(t,e,n){var r=Ko.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ma(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function va(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ya(t,e,n){var r=Ko.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ba(t,e,n){var r=Ko.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wa(t,e,n){var r=Ko.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ma(t,e,n){var r=Zo.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _a(t,e,n){var r=Ko.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xa(t,e,n){var r=Ko.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ta(t,e){return ta(t.getDate(),e,2)}function Sa(t,e){return ta(t.getHours(),e,2)}function Na(t,e){return ta(t.getHours()%12||12,e,2)}function Ca(t,e){return ta(1+vo.count(Po(t),t),e,3)}function Aa(t,e){return ta(t.getMilliseconds(),e,3)}function Ea(t,e){return Aa(t,e)+"000"}function ka(t,e){return ta(t.getMonth()+1,e,2)}function Da(t,e){return ta(t.getMinutes(),e,2)}function Oa(t,e){return ta(t.getSeconds(),e,2)}function Ua(t){var e=t.getDay();return 0===e?7:e}function Ra(t,e){return ta(Mo.count(Po(t)-1,t),e,2)}function qa(t){var e=t.getDay();return e>=4||0===e?So(t):So.ceil(t)}function Fa(t,e){return t=qa(t),ta(So.count(Po(t),t)+(4===Po(t).getDay()),e,2)}function Ia(t){return t.getDay()}function Pa(t,e){return ta(_o.count(Po(t)-1,t),e,2)}function ja(t,e){return ta(t.getFullYear()%100,e,2)}function La(t,e){return ta((t=qa(t)).getFullYear()%100,e,2)}function $a(t,e){return ta(t.getFullYear()%1e4,e,4)}function Ba(t,e){var n=t.getDay();return ta((t=n>=4||0===n?So(t):So.ceil(t)).getFullYear()%1e4,e,4)}function Va(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ta(e/60|0,"0",2)+ta(e%60,"0",2)}function Ha(t,e){return ta(t.getUTCDate(),e,2)}function za(t,e){return ta(t.getUTCHours(),e,2)}function Ya(t,e){return ta(t.getUTCHours()%12||12,e,2)}function Ga(t,e){return ta(1+yo.count(jo(t),t),e,3)}function Xa(t,e){return ta(t.getUTCMilliseconds(),e,3)}function Wa(t,e){return Xa(t,e)+"000"}function Ja(t,e){return ta(t.getUTCMonth()+1,e,2)}function Ka(t,e){return ta(t.getUTCMinutes(),e,2)}function Za(t,e){return ta(t.getUTCSeconds(),e,2)}function Qa(t){var e=t.getUTCDay();return 0===e?7:e}function ts(t,e){return ta(Eo.count(jo(t)-1,t),e,2)}function es(t){var e=t.getUTCDay();return e>=4||0===e?Uo(t):Uo.ceil(t)}function ns(t,e){return t=es(t),ta(Uo.count(jo(t),t)+(4===jo(t).getUTCDay()),e,2)}function rs(t){return t.getUTCDay()}function is(t,e){return ta(ko.count(jo(t)-1,t),e,2)}function os(t,e){return ta(t.getUTCFullYear()%100,e,2)}function as(t,e){return ta((t=es(t)).getUTCFullYear()%100,e,2)}function ss(t,e){return ta(t.getUTCFullYear()%1e4,e,4)}function us(t,e){var n=t.getUTCDay();return ta((t=n>=4||0===n?Uo(t):Uo.ceil(t)).getUTCFullYear()%1e4,e,4)}function ls(){return"+0000"}function cs(){return"%"}function hs(t){return+t}function fs(t){return Math.floor(+t/1e3)}function ds(t){return new Date(t)}function ps(t){return t instanceof Date?+t:+new Date(+t)}function gs(t,e,n,r,i,o,a,s,u,l){var c=Ii(),h=c.invert,f=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),w=l("%Y");function M(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?v:y:n(t)<t?b:w)(t)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Array.from(t,ps)):f().map(ds)},c.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?M:l(e)},c.nice=function(t){var n=f();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(n,t)):c},c.copy=function(){return Fi(c,gs(t,e,n,r,i,o,a,s,u,l))},c}function ms(t){return"string"==typeof t?new on([[document.querySelector(t)]],[document.documentElement]):new on([[t]],rn)}function vs(t){return function(){return t}}function ys(t){this._context=t}function bs(t){return new ys(t)}Xo=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=na(i),c=ra(i),h=na(o),f=ra(o),d=na(a),p=ra(a),g=na(s),m=ra(s),v=na(u),y=ra(u),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ta,e:Ta,f:Ea,g:La,G:Ba,H:Sa,I:Na,j:Ca,L:Aa,m:ka,M:Da,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:hs,s:fs,S:Oa,u:Ua,U:Ra,V:Fa,w:Ia,W:Pa,x:null,X:null,y:ja,Y:$a,Z:Va,"%":cs},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ha,e:Ha,f:Wa,g:as,G:us,H:za,I:Ya,j:Ga,L:Xa,m:Ja,M:Ka,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:hs,s:fs,S:Za,u:Qa,U:ts,V:ns,w:rs,W:is,x:null,X:null,y:os,Y:ss,Z:ls,"%":cs},M={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:pa,e:pa,f:wa,g:ca,G:la,H:ma,I:ma,j:ga,L:ba,m:da,M:va,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:fa,Q:_a,s:xa,S:ya,u:oa,U:aa,V:sa,w:ia,W:ua,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:ca,Y:la,Z:ha,"%":Ma};function _(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Jo[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function x(t,e){return function(n){var r,i,o=Go(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Yo(Go(o.y,0,1))).getUTCDay(),r=i>4||0===i?ko.ceil(r):ko(r),r=yo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=zo(Go(o.y,0,1))).getDay(),r=i>4||0===i?_o.ceil(r):_o(r),r=vo.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Yo(Go(o.y,0,1)).getUTCDay():zo(Go(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Yo(o)):zo(o)}}function T(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=M[i in Jo?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Xo.format,Xo.parse,Wo=Xo.utcFormat,Xo.utcParse,Array.prototype.slice,ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const ws=Math.PI,Ms=2*ws,_s=1e-6,xs=Ms-_s;function Ts(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Ss{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Ts:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ts;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,h=l*l+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>_s)if(Math.abs(c*s-u*l)>_s&&i){let f=n-o,d=r-a,p=s*s+u*u,g=f*f+d*d,m=Math.sqrt(p),v=Math.sqrt(h),y=i*Math.tan((ws-Math.acos((p+h-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>_s&&this._append`L${t+b*l},${e+b*c}`,this._append`A${i},${i},0,0,${+(c*f>l*d)},${this._x1=t+w*s},${this._y1=e+w*u}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${u},${l}`:(Math.abs(this._x1-u)>_s||Math.abs(this._y1-l)>_s)&&this._append`L${u},${l}`,n&&(h<0&&(h=h%Ms+Ms),h>xs?this._append`A${n},${n},0,1,${c},${t-a},${e-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=l}`:h>_s&&this._append`A${n},${n},0,${+(h>=ws)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ns(t){return t[0]}function Cs(t){return t[1]}function As(t,e,n){this.k=t,this.x=e,this.y=n}As.prototype={constructor:As,scale:function(t){return 1===t?this:new As(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new As(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new As(1,0,0),As.prototype;var Es=class{constructor(t,e){this.stock=t,this.storedData=null,this.containerId=e}async createData(){this.storedData=await this.stock.getData(),this.presentData(this.storedData["Monthly Time Series"])}presentData(t){const e=[];for(let n in t)e.push({date:new Date(n),price:+t[n]["4. close"]});const n=ms(`#${this.containerId}`),r=function(){return Pi.apply(gs($o,Bo,jo,Io,Eo,yo,mo,po,ho,Wo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}().domain(function(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}(e,(t=>t.date))).range([50,480]),i=to().domain([0,Lt(e,(t=>t.price))]).range([470,20]),o=("svg",ms(Ge("svg").call(document.documentElement))).attr("width",500).attr("height",500);o.append("g").attr("transform","translate(0, 470)").call(Xt(3,r)),o.append("g").attr("transform","translate(50,0)").call(Xt(4,i));const a=function(t,e){var n=vs(!0),r=null,i=bs,o=null,a=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Ss(e)}(s);function s(s){var u,l,c,h=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,f=!1;for(null==r&&(o=i(c=a())),u=0;u<=h;++u)!(u<h&&n(l=s[u],u,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,u,s),+e(l,u,s));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Ns:vs(t),e="function"==typeof e?e:void 0===e?Cs:vs(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:vs(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:vs(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:vs(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}().x((t=>r(t.date))).y((t=>i(t.price)));o.append("path").datum(e).attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",a),n.append((()=>o.node()))}};n(889),document.addEventListener("DOMContentLoaded",(async()=>{const t=new jt("META"),e=new Es(t,"stock1-container");await e.createData();const n=new jt("IBM"),r=new Es(n,"stock2-container");await r.createData()}))}()}();
//# sourceMappingURL=main.js.map